---
icon: pen-to-square
date: 2024-08-11
category:
- åç«¯
tag:
- Spring
- åç«¯å¼€å‘æŠ€å·§
sticky: true
star: true
---

# âœ… Spring Boot å¸¸ç”¨æ³¨è§£

---

### ğŸŒ ä¸€ã€Web å±‚è¯·æ±‚å¤„ç†æ³¨è§£

| æ³¨è§£                                                                                  | è¯´æ˜                                           |
| ----------------------------------------------------------------------------------- | -------------------------------------------- |
| `@RestController`                                                                   | ç»„åˆæ³¨è§£ï¼š`@Controller` + `@ResponseBody`ï¼Œè¿”å› JSON |
| `@Controller`                                                                       | è¿”å›è§†å›¾åç§°ï¼Œç”¨äºé¡µé¢è·³è½¬                                |
| `@ResponseBody`                                                                     | æ–¹æ³•è¿”å› JSON ä½“                                  |
| `@RequestMapping`                                                                   | é€šç”¨è·¯ç”±æ˜ å°„ï¼Œæ”¯æŒæ‰€æœ‰ HTTP æ–¹æ³•                          |
| `@GetMapping` / `@PostMapping` / `@PutMapping` / `@DeleteMapping` / `@PatchMapping` | æ˜ å°„å…·ä½“ HTTP æ–¹æ³•è¯·æ±‚                               |
| `@PathVariable`                                                                     | è·å– URL è·¯å¾„å˜é‡ `/user/{id}`                     |
| `@RequestParam`                                                                     | è·å– query å‚æ•° `/search?name=Tom`               |
| `@RequestHeader`                                                                    | è·å–è¯·æ±‚å¤´ä¿¡æ¯                                      |
| `@RequestBody`                                                                      | æ¥æ”¶ JSON å¯¹è±¡å¹¶ç»‘å®šåˆ° Java Bean                     |
| `@ResponseStatus`                                                                   | è®¾ç½®å“åº”çŠ¶æ€ç ï¼Œå¦‚ 201 Created                        |
| `@CrossOrigin`                                                                      | å¯ç”¨è·¨åŸŸè¯·æ±‚æ”¯æŒ                                     |
| `@ExceptionHandler`                                                                 | å±€éƒ¨å¼‚å¸¸å¤„ç†æ–¹æ³•                                     |
| `@RestControllerAdvice`                                                             | å…¨å±€å¼‚å¸¸å¤„ç†ç±»ï¼ˆç»“åˆ `@ExceptionHandler` ä½¿ç”¨ï¼‰           |

---

### ğŸ§© äºŒã€ä¾èµ–æ³¨å…¥ä¸ Bean ç®¡ç†æ³¨è§£

| æ³¨è§£                  | è¯´æ˜                                                 |
| ------------------- | -------------------------------------------------- |
| `@Autowired`        | æŒ‰ç±»å‹æ³¨å…¥ Bean                                         |
| `@Qualifier`        | é…åˆ `@Autowired`ï¼ŒæŒ‡å®šæ³¨å…¥ Bean åç§°                       |
| `@Resource`         | JSR-250ï¼Œé»˜è®¤æŒ‰åç§°æ³¨å…¥                                    |
| `@Inject`           | JSR-330ï¼ŒæŒ‰ç±»å‹æ³¨å…¥ï¼ˆç­‰ä»·äº `@Autowired`ï¼‰                    |
| `@Component`        | é€šç”¨ç»„ä»¶æ³¨è§£                                             |
| `@Service`          | æœåŠ¡å±‚ç»„ä»¶ï¼ˆè¯­ä¹‰åŒ–ï¼‰                                         |
| `@Repository`       | DAO å±‚ç»„ä»¶ï¼Œæ”¯æŒå¼‚å¸¸è½¬æ¢                                     |
| `@ControllerAdvice` | å…¨å±€å¼‚å¸¸å¤„ç†æ§åˆ¶å™¨                                          |
| `@Configuration`    | Java é…ç½®ç±»                                           |
| `@Bean`             | å®šä¹‰ä¸€ä¸ª Bean æ–¹æ³•ï¼ˆå¸¸ç”¨äºæ‰‹åŠ¨æ„é€ å®ä¾‹ï¼‰                            |
| `@Primary`          | å½“å­˜åœ¨å¤šä¸ªå€™é€‰ Bean æ—¶è¢«ä¼˜å…ˆæ³¨å…¥                                |
| `@Lazy`             | å»¶è¿Ÿåˆå§‹åŒ– Bean                                         |
| `@Scope`            | è®¾ç½® Bean çš„ä½œç”¨åŸŸï¼šsingletonã€prototypeã€requestã€session ç­‰ |

---

### ğŸ›  ä¸‰ã€é…ç½®ä¸å±æ€§æ³¨å…¥æ³¨è§£

| æ³¨è§£                               | è¯´æ˜                                   |
| -------------------------------- | ------------------------------------ |
| `@Value`                         | æ³¨å…¥é…ç½®é¡¹å€¼ `@Value(\"${app.name}\")`     |
| `@ConfigurationProperties`       | å°†é…ç½®æ–‡ä»¶æ˜ å°„åˆ°ç±»ä¸Šï¼Œæ”¯æŒæ‰¹é‡æ³¨å…¥                    |
| `@PropertySource`                | æŒ‡å®šé¢å¤–çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚é application.propertiesï¼‰ |
| `@EnableConfigurationProperties` | å¯ç”¨ `@ConfigurationProperties` çš„ç±»æ³¨å…¥   |
| `@Profile`                       | æ¿€æ´»æŸä¸ªç¯å¢ƒé…ç½®ï¼ˆå¦‚ devã€testã€prodï¼‰            |
| `@PropertySources`               | å¤šä¸ª `@PropertySource` ç»„åˆ              |

---

### âš™ï¸ å››ã€è‡ªåŠ¨é…ç½®ä¸åº”ç”¨å…¥å£æ³¨è§£

| æ³¨è§£                         | è¯´æ˜               |
| -------------------------- | ---------------- |
| `@SpringBootApplication`   | å¯åŠ¨ç±»æ³¨è§£ï¼ˆç»„åˆæ³¨è§£ï¼‰      |
| `@SpringBootConfiguration` | Spring Boot çš„é…ç½®ç±» |
| `@EnableAutoConfiguration` | å¼€å¯è‡ªåŠ¨é…ç½®           |
| `@ComponentScan`           | æŒ‡å®šç»„ä»¶æ‰«æè·¯å¾„         |
| `@Import`                  | å¯¼å…¥é…ç½®ç±»æˆ– Bean      |
| `@ImportResource`          | å¯¼å…¥ XML é…ç½®æ–‡ä»¶      |

---

### ğŸŒ€ äº”ã€AOPã€äº‹ä»¶ç›‘å¬ä¸ç”Ÿå‘½å‘¨æœŸ

| æ³¨è§£                                                                      | è¯´æ˜                                         |
| ----------------------------------------------------------------------- | ------------------------------------------ |
| `@Aspect`                                                               | AOP åˆ‡é¢ç±»ï¼ˆé…åˆ `@Before`, `@After`, `@Around`ï¼‰ |
| `@Before` / `@After` / `@Around` / `@AfterReturning` / `@AfterThrowing` | AOP åˆ‡å…¥ç‚¹é€»è¾‘æ§åˆ¶                                |
| `@PostConstruct`                                                        | Bean åˆå§‹åŒ–åæ‰§è¡Œçš„æ–¹æ³•                             |
| `@PreDestroy`                                                           | Bean é”€æ¯å‰æ‰§è¡Œçš„æ–¹æ³•                              |
| `@EventListener`                                                        | ç›‘å¬ Spring äº‹ä»¶ï¼ˆå¦‚ `ApplicationReadyEvent`ï¼‰    |

---

### ğŸ” å…­ã€å®‰å…¨ä¸è®¤è¯ç›¸å…³æ³¨è§£ï¼ˆSpring Securityï¼‰

| æ³¨è§£                            | è¯´æ˜                        |
| ----------------------------- | ------------------------- |
| `@Secured`                    | æŒ‡å®šè§’è‰²è®¿é—®æ§åˆ¶ï¼ˆSpring Securityï¼‰ |
| `@PreAuthorize`               | æ–¹æ³•æ‰§è¡Œå‰é‰´æƒ                   |
| `@PostAuthorize`              | æ–¹æ³•æ‰§è¡Œåé‰´æƒ                   |
| `@EnableGlobalMethodSecurity` | å¯ç”¨æ–¹æ³•çº§å®‰å…¨æ³¨è§£                 |
| `@WithMockUser`               | æµ‹è¯•æ—¶æ¨¡æ‹Ÿç™»å½•ç”¨æˆ·                 |

---

### ğŸ§ª ä¸ƒã€æµ‹è¯•ç›¸å…³æ³¨è§£

| æ³¨è§£                      | è¯´æ˜                  |
| ----------------------- | ------------------- |
| `@SpringBootTest`       | å¯åŠ¨å®Œæ•´åº”ç”¨ä¸Šä¸‹æ–‡           |
| `@WebMvcTest`           | å¯åŠ¨ Web å±‚æµ‹è¯•          |
| `@DataJpaTest`          | å¯åŠ¨ JPA å±‚æµ‹è¯•          |
| `@MockBean`             | æ³¨å…¥ mock å¯¹è±¡æ›¿æ¢çœŸå® Bean |
| `@TestConfiguration`    | ä¸“ç”¨äºæµ‹è¯•ç±»çš„é…ç½®           |
| `@ContextConfiguration` | åŠ è½½æµ‹è¯•ä¸Šä¸‹æ–‡é…ç½®           |

---
