---
icon: pen-to-square
date: 2025-12-16
category:
- åç«¯
tag:
- äºŒåˆ†æŸ¥æ‰¾
- æ—‹è½¬æ•°ç»„
- leetcode
---

# 33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„

## ğŸ“ é¢˜ç›®æè¿°
æ•´æ•°æ•°ç»„ `nums` æŒ‰å‡åºæ’åˆ—ï¼Œåœ¨ä¼ é€’ç»™å‡½æ•°å‰ï¼Œåœ¨æŸä¸ªä¸‹æ ‡ `k` å¤„è¿›è¡Œäº†**å‘å·¦æ—‹è½¬**ï¼ˆæ—‹è½¬åæ•°ç»„ä¸º `[nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]`ï¼‰ã€‚æ•°ç»„å…ƒç´ äº’ä¸ç›¸åŒï¼Œç»™å®šæ—‹è½¬åçš„æ•°ç»„å’Œç›®æ ‡å€¼ `target`ï¼Œè¦æ±‚è®¾è®¡æ—¶é—´å¤æ‚åº¦ä¸º **O(log n)** çš„ç®—æ³•ï¼Œè¿”å› `target` åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼›è‹¥ä¸å­˜åœ¨åˆ™è¿”å› `-1`ã€‚


---

## ğŸ“Œ ç¤ºä¾‹

### ç¤ºä¾‹ 1
è¾“å…¥ï¼š
```
nums = [4,5,6,7,0,1,2], target = 0
```
è¾“å‡ºï¼š
```
4
```


### ç¤ºä¾‹ 2
è¾“å…¥ï¼š
```
nums = [4,5,6,7,0,1,2], target = 3
```
è¾“å‡ºï¼š
```
-1
```


### ç¤ºä¾‹ 3
è¾“å…¥ï¼š
```
nums = [1], target = 0
```
è¾“å‡ºï¼š
```
-1
```


---

# ğŸš€ æœ€ä¼˜è§£ï¼šäºŒåˆ†æŸ¥æ‰¾ï¼ˆç¡®å®šæœ‰åºåŒºé—´ï¼‰

### ğŸ” æ€è·¯è§£æ
æ ¸å¿ƒç­–ç•¥ï¼š**æ—‹è½¬æ•°ç»„å¯åˆ†ä¸ºâ€œå·¦æœ‰åºæ®µâ€å’Œâ€œå³æœ‰åºæ®µâ€ï¼Œé€šè¿‡äºŒåˆ†ç¡®å®šä¸­ç‚¹æ‰€åœ¨çš„æœ‰åºæ®µï¼Œå†åˆ¤æ–­ç›®æ ‡å€¼æ˜¯å¦åœ¨è¯¥æœ‰åºæ®µå†…ï¼Œé€æ­¥ç¼©å°æŸ¥æ‰¾èŒƒå›´**ã€‚
1. åˆå§‹åŒ–åŒæŒ‡é’ˆ `left=0`ã€`right=nums.length-1`ï¼›
2. å½“ `left â‰¤ right` æ—¶ï¼Œè®¡ç®—ä¸­ç‚¹ `mid = (left + right) / 2`ï¼›
3. è‹¥ `nums[mid] == target`ï¼Œç›´æ¥è¿”å› `mid`ï¼›
4. åˆ¤æ–­ `mid` æ‰€åœ¨çš„æœ‰åºæ®µï¼š
    - è‹¥ `nums[mid] â‰¥ nums[left]`ï¼š`mid` åœ¨å·¦æœ‰åºæ®µï¼Œè¿›ä¸€æ­¥åˆ¤æ–­ `target` æ˜¯å¦åœ¨ `[nums[left], nums[mid]]` å†…ï¼š
        - æ˜¯ â†’ ç¼©å°èŒƒå›´åˆ°å·¦åŠæ®µï¼ˆ`right = mid - 1`ï¼‰ï¼›
        - å¦ â†’ ç¼©å°èŒƒå›´åˆ°å³åŠæ®µï¼ˆ`left = mid + 1`ï¼‰ï¼›
    - è‹¥ `nums[mid] < nums[left]`ï¼š`mid` åœ¨å³æœ‰åºæ®µï¼Œè¿›ä¸€æ­¥åˆ¤æ–­ `target` æ˜¯å¦åœ¨ `[nums[mid], nums[right]]` å†…ï¼š
        - æ˜¯ â†’ ç¼©å°èŒƒå›´åˆ°å³åŠæ®µï¼ˆ`left = mid + 1`ï¼‰ï¼›
        - å¦ â†’ ç¼©å°èŒƒå›´åˆ°å·¦åŠæ®µï¼ˆ`right = mid - 1`ï¼‰ï¼›
5. è‹¥å¾ªç¯ç»“æŸæœªæ‰¾åˆ°ï¼Œè¿”å› `-1`ã€‚


---

## âœ… å®Œæ•´ä»£ç ï¼ˆJavaï¼‰
```java
class Solution {
    public int search(int[] nums, int target) {
        int left = 0;
        int right = nums.length - 1;
        while (left <= right) {
            int mid = (left + right) / 2;
            if (nums[mid] == target) {
                return mid;
            }
            // åˆ¤æ–­midæ˜¯å¦åœ¨å·¦æœ‰åºæ®µ
            if (nums[mid] >= nums[left]) {
                // ç›®æ ‡åœ¨å·¦æœ‰åºæ®µå†…
                if (nums[left] <= target && target < nums[mid]) {
                    right = mid - 1;
                } else {
                    left = mid + 1;
                }
            } 
            // midåœ¨å³æœ‰åºæ®µ
            else {
                // ç›®æ ‡åœ¨å³æœ‰åºæ®µå†…
                if (nums[mid] < target && target <= nums[right]) {
                    left = mid + 1;
                } else {
                    right = mid - 1;
                }
            }
        }
        // æœªæ‰¾åˆ°ç›®æ ‡
        return -1;
    }
}
```


---

# ğŸ§  é€šä¿—æ˜“æ‡‚è§£é‡Š
å¯ä»¥æŠŠæ—‹è½¬æ•°ç»„ç†è§£ä¸ºâ€œä¸¤æ®µç‹¬ç«‹çš„å‡åºæ•°ç»„æ‹¼æ¥è€Œæˆâ€ï¼Œæ¯”å¦‚ `[4,5,6,7,0,1,2]` æ˜¯ `[4,5,6,7]`ï¼ˆå·¦æœ‰åºæ®µï¼‰å’Œ `[0,1,2]`ï¼ˆå³æœ‰åºæ®µï¼‰æ‹¼æ¥çš„ç»“æœã€‚
æŸ¥æ‰¾ç›®æ ‡çš„è¿‡ç¨‹ç±»ä¼¼â€œå…ˆç¡®å®šåœ¨å“ªä¸€æ®µï¼Œå†åœ¨è¯¥æ®µå†…æ‰¾â€ï¼š
1. æ¯æ¬¡å–ä¸­ç‚¹ï¼Œå…ˆçœ‹ä¸­ç‚¹å±äºå·¦æœ‰åºæ®µè¿˜æ˜¯å³æœ‰åºæ®µï¼›
2. è‹¥ä¸­ç‚¹åœ¨å·¦æœ‰åºæ®µï¼Œå°±çœ‹ç›®æ ‡æ˜¯å¦åœ¨å·¦æœ‰åºæ®µçš„èŒƒå›´å†…ï¼ˆæ¯”å¦‚ç›®æ ‡æ˜¯0ï¼Œä¸åœ¨ `[4,7]` é‡Œï¼Œå°±å»å³åŠéƒ¨åˆ†æ‰¾ï¼‰ï¼›
3. è‹¥ä¸­ç‚¹åœ¨å³æœ‰åºæ®µï¼ŒåŒç†åˆ¤æ–­ç›®æ ‡æ˜¯å¦åœ¨å³æœ‰åºæ®µèŒƒå›´å†…ï¼›
4. ä¸æ–­ç¼©å°èŒƒå›´ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡æˆ–ç¡®å®šä¸å­˜åœ¨ã€‚

ä»¥ç¤ºä¾‹1 `nums=[4,5,6,7,0,1,2], target=0` ä¸ºä¾‹ï¼š
1. `left=0, right=6`ï¼Œ`mid=3`ï¼Œ`nums[3]=7`ï¼ˆå·¦æœ‰åºæ®µï¼‰ï¼Œ0ä¸åœ¨ `[4,7]` é‡Œ â†’ å»å³åŠéƒ¨åˆ†ï¼Œ`left=4`ï¼›
2. `left=4, right=6`ï¼Œ`mid=5`ï¼Œ`nums[5]=1`ï¼ˆå³æœ‰åºæ®µï¼‰ï¼Œ0åœ¨ `[0,2]` é‡Œ â†’ å»å·¦åŠéƒ¨åˆ†ï¼Œ`right=4`ï¼›
3. `left=4, right=4`ï¼Œ`mid=4`ï¼Œ`nums[4]=0 == target` â†’ è¿”å›4ã€‚


---

# â± æ—¶é—´å¤æ‚åº¦
### **O(log n)**
æ¯æ¬¡äºŒåˆ†å°†æŸ¥æ‰¾èŒƒå›´ç¼©å°ä¸€åŠï¼Œéå†æ¬¡æ•°ä¸ºæ•°ç»„é•¿åº¦çš„å¯¹æ•°çº§åˆ«ã€‚


---

# ğŸ’¾ ç©ºé—´å¤æ‚åº¦
### **O(1)**
ä»…ä½¿ç”¨3ä¸ªæŒ‡é’ˆå˜é‡ï¼Œæ— é¢å¤–ç©ºé—´æ¶ˆè€—ã€‚
nums[l] <= nums[mid]å·¦æ®µæœ‰åº(åä¹‹å³æ®µæœ‰åº)ï¼Œå†nums[mid] > target && target >= nums[l]å¯ä»¥å¾—åˆ°ç›®æ ‡åœ¨å·¦æœ‰åºæ®µå¯ä»¥right = mid - 1
