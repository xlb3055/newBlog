---
icon: pen-to-square
date: 2025-12-4
category:
- åç«¯
tag:
- åŠ¨æ€è§„åˆ’
- leecode
---

# 139. å•è¯æ‹†åˆ†

## ğŸ“ é¢˜ç›®æè¿°
ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ `wordDict` ä½œä¸ºå­—å…¸ã€‚å¦‚æœ `s` å¯ä»¥ç”±å­—å…¸ä¸­è‹¥å¹²å•è¯**æŒ‰é¡ºåºæ‹¼æ¥**è€Œæˆï¼Œè¿”å› `true`ï¼›å¦åˆ™è¿”å› `false`ã€‚

æ³¨æ„ï¼š
- å­—å…¸ä¸­çš„å•è¯å¯ä»¥é‡å¤ä½¿ç”¨ã€‚
- ä¸è¦æ±‚å­—å…¸ä¸­å‡ºç°çš„å•è¯éƒ½å¿…é¡»ç”¨ä¸Šã€‚

---

## ğŸ“Œ ç¤ºä¾‹

### ç¤ºä¾‹ 1
è¾“å…¥ï¼š
```

s = "leetcode"
wordDict = ["leet", "code"]

```
è¾“å‡ºï¼š
```

true

```
è§£é‡Šï¼š  
`leetcode = leet + code`

---

### ç¤ºä¾‹ 2
è¾“å…¥ï¼š
```

s = "applepenapple"
wordDict = ["apple", "pen"]

```
è¾“å‡ºï¼š
```

true

```
è§£é‡Šï¼š  
`applepenapple = apple + pen + apple`

---

### ç¤ºä¾‹ 3
è¾“å…¥ï¼š
```

s = "catsandog"
wordDict = ["cats", "dog", "sand", "and", "cat"]

```
è¾“å‡ºï¼š
```

false

```

---

# ğŸš€ æœ€ä¼˜è§£ï¼šåŠ¨æ€è§„åˆ’ï¼ˆå­—ç¬¦ä¸²åˆ‡å‰² DPï¼‰

æˆ‘ä»¬å®šä¹‰ï¼š

```

dp[i] = s çš„å‰ i ä¸ªå­—ç¬¦èƒ½å¦è¢«æ‹¼æ¥å‡ºæ¥

```

ä¹Ÿå°±æ˜¯åˆ¤æ–­ï¼š

> ä» 0 åˆ° i çš„å­ä¸²ï¼Œèƒ½å¦è¢«å­—å…¸åˆ†å‰²ã€‚

åˆå§‹çŠ¶æ€ï¼š

```

dp[0] = true

```

è¡¨ç¤ºç©ºå­—ç¬¦ä¸²æ˜¯å¯ä»¥è¢«æ‹¼å‡ºæ¥çš„ã€‚

çŠ¶æ€è½¬ç§»ï¼š

å¯¹äº s çš„æ¯ä¸ªå‰ç¼€ `s[0â€¦i)`ï¼Œæ£€æŸ¥å­—å…¸ä¸­çš„æ¯ä¸ªå•è¯ `word`ï¼š

```

å¦‚æœ s[i-m, i) == word ä¸” dp[i-m] == true
â†’ dp[i] = true

````

æœ€ç»ˆè¿”å› `dp[n]`ã€‚

---

# âœ… å®Œæ•´ä»£ç ï¼ˆJavaï¼‰

```java
import java.util.Scanner;
import java.util.List;
import java.util.ArrayList;

public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        // è¯»å–å­—ç¬¦ä¸²s
        String s = scanner.nextLine();

        // è¯»å–å­—å…¸å•è¯æ•°é‡
        int m = scanner.nextInt();
        List<String> wordDict = new ArrayList<>();

        // è¯»å–å­—å…¸å•è¯
        scanner.nextLine(); // æ¶ˆè´¹æ¢è¡Œç¬¦
        for (int i = 0; i < m; i++) {
            wordDict.add(scanner.nextLine());
        }

        Solution solution = new Solution();
        boolean result = solution.wordBreak(s, wordDict);

        System.out.println(result);

        scanner.close();
    }
}

class Solution {
    public boolean wordBreak(String s, List<String> wordDict) {
        int n = s.length();
        boolean[] dp = new boolean[n + 1];
        dp[0] = true;

        for(int i = 1; i <= n; i++){
            for(String word : wordDict){
                int m = word.length();
                if(m <= i){
                    // å¦‚æœå‰é¢å¯æ‹† && å½“å‰å­ä¸²ç­‰äº word
                    if(dp[i - m] && word.equals(s.substring(i - m, i))){
                        dp[i] = true;
                        break;  // æå‰é€€å‡ºï¼Œå·²ç»èƒ½æ‹†äº†
                    }
                }
            }
        }
        return dp[n];
    }
}
```

---

# ğŸ§  é€šä¿—æ˜“æ‡‚è§£é‡Š

æŠŠå­—ç¬¦ä¸² `s` çœ‹æˆä¸€æ¡è·¯ï¼Œæˆ‘ä»¬ä»å·¦å¾€å³èµ°ï¼Œåªæœ‰èµ°åˆ°æŸä¸ªä½ç½® `i` æ—¶ï¼Œå®ƒèƒ½è¢«æˆåŠŸæ‹†åˆ†ï¼Œæˆ‘ä»¬æ‰æŠŠ `dp[i]` æ ‡è®°ä¸º `true`ã€‚

æ¯”å¦‚ï¼š

```
s = "leetcode"
wordDict = ["leet", "code"]
```

æ¨å¯¼è¿‡ç¨‹ï¼š

* `dp[0] = true`
* æ£€æŸ¥å‰ 4 å­—ç¬¦ `"leet"`
  ä¸å­—å…¸åŒ¹é…ï¼Œå¹¶ä¸” `dp[0] == true` â†’ `dp[4] = true`
* æ£€æŸ¥ `"code"`ï¼ˆä½ç½® 4â€“8ï¼‰
  ä¸å­—å…¸åŒ¹é…ï¼Œå¹¶ä¸” `dp[4] == true` â†’ `dp[8] = true`

æœ€ç»ˆ `dp[n] = dp[8] = true`ã€‚

æ€è·¯éå¸¸ç±»ä¼¼â€œè·³æ ¼å­â€ï¼Œåªæœ‰ä½ èƒ½è·³è¿‡å»çš„ä½ç½®ï¼Œæ‰ç®—å¯è¾¾ã€‚

---

# â± æ—¶é—´å¤æ‚åº¦

### **O(n Ã— k Ã— m)**

* n æ˜¯å­—ç¬¦ä¸²é•¿åº¦
* k æ˜¯å­—å…¸å¤§å°
* m æ˜¯æ¯ä¸ªå•è¯çš„å¹³å‡é•¿åº¦ï¼ˆå› ä¸º substring æ¯”è¾ƒéœ€è¦ O(m)ï¼‰

é¢˜ç›®çº¦æŸ wordDict[i] â‰¤ 20ï¼Œæ‰€ä»¥å®é™…éå¸¸å¿«ã€‚

---

# ğŸ’¾ ç©ºé—´å¤æ‚åº¦

### **O(n)**

ä¸€ä¸ªé•¿åº¦ä¸º n+1 çš„ dp æ•°ç»„ã€‚


/dp[i] = ä»¥s(0-i)æ˜¯å¦å¯ä»¥è¢«æ‹¼å‡º