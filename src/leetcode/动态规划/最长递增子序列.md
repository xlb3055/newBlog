---
icon: pen-to-square
date: 2025-12-04
category:
- åç«¯
tag:
- åŠ¨æ€è§„åˆ’
- äºŒåˆ†æŸ¥æ‰¾
- leetcode
---

# 300. æœ€é•¿é€’å¢å­åºåˆ—

## ğŸ“ é¢˜ç›®æè¿°
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œè¯·ä½ è¿”å›å…¶ä¸­ **æœ€é•¿ä¸¥æ ¼é€’å¢å­åºåˆ—** çš„é•¿åº¦ã€‚

å­åºåˆ—å¹¶ä¸è¦æ±‚è¿ç»­ï¼Œåªè¦ä¿æŒç›¸å¯¹é¡ºåºå³å¯ã€‚

ä¾‹å¦‚ï¼š
- `[3,6,2,7]` æ˜¯ `[3,6,2,7]` çš„å­åºåˆ—  
- `[3,6,7]` ä¹Ÿæ˜¯ï¼Œå› ä¸ºåªç§»é™¤ 2 å³å¯

---

## ğŸ“Œ ç¤ºä¾‹

### ç¤ºä¾‹ 1
è¾“å…¥ï¼š
```

nums = [10,9,2,5,3,7,101,18]

```
è¾“å‡ºï¼š
```

4

```
è§£é‡Šï¼šæœ€é•¿é€’å¢å­åºåˆ—ä¸º `[2,3,7,101]`ã€‚

---

### ç¤ºä¾‹ 2
è¾“å…¥ï¼š
```

nums = [0,1,0,3,2,3]

```
è¾“å‡ºï¼š
```

4

```

---

### ç¤ºä¾‹ 3
è¾“å…¥ï¼š
```

nums = [7,7,7,7,7,7]

```
è¾“å‡ºï¼š
```

1

```

---

# ğŸš€ æœ€ä¼˜è§£ 1ï¼šåŠ¨æ€è§„åˆ’ O(nÂ²)

è¿™æ˜¯æœ€å®¹æ˜“ç†è§£çš„ç»å…¸ DP è§£æ³•ã€‚

## çŠ¶æ€å®šä¹‰
```

dp[i] = ä»¥ nums[i] ç»“å°¾çš„ LIS çš„é•¿åº¦

```

åˆå§‹å€¼ï¼š
```

æ¯ä¸ªæ•°å­—éƒ½å¯ä»¥è‡³å°‘æˆä¸ºé•¿åº¦ 1 çš„åºåˆ— â†’ dp[i] = 1

```

## çŠ¶æ€è½¬ç§»
å¯¹æ¯ä¸ª `i`ï¼Œéå†å®ƒä¹‹å‰çš„æ‰€æœ‰ `j`ï¼š

```

å¦‚æœ nums[i] > nums[j]
dp[i] = max(dp[i], dp[j] + 1)

```

æœ€ç»ˆç­”æ¡ˆä¸ºï¼š

```

max(dp[i])

````

---

# âœ… Java ä»£ç ï¼ˆä¸ä½ æˆªå›¾ä¸€è‡´ï¼‰

```java
class Solution {
    public int lengthOfLIS(int[] nums) {
        int n = nums.length;
        int[] dp = new int[n];
        Arrays.fill(dp, 1);
        int ans = 1;

        for(int i = 1; i < n; i++){
            for(int j = 0; j < i; j++){
                if(nums[i] > nums[j]){
                    dp[i] = Math.max(dp[i], dp[j] + 1);
                }
            }
            ans = Math.max(ans, dp[i]);
        }
        return ans;
    }
}
````

---

# ğŸ§  é€šä¿—æ˜“æ‡‚è§£é‡Š

æŠŠæ¯ä¸ªæ•°å­—å½“æˆâ€œç»“å°¾â€ï¼Œè®°å½•å®ƒèƒ½æ¥åˆ°å¤šé•¿çš„é€’å¢åºåˆ—ã€‚

ä¸¾ä¾‹ï¼š

```
nums = [10,9,2,5,3,7,101,18]
```

æ„å»º dpï¼š

| i | nums[i] | dp[i] å«ä¹‰ = ä»¥ nums[i] ç»“å°¾çš„ LIS é•¿åº¦ |
| - | ------- | ------------------------------- |
| 0 | 10      | 1                               |
| 1 | 9       | 1                               |
| 2 | 2       | 1                               |
| 3 | 5       | 2 (2 â†’ 5)                       |
| 4 | 3       | 2 (2 â†’ 3)                       |
| 5 | 7       | 3 (2 â†’ 5 â†’ 7)                   |
| 6 | 101     | 4 (2 â†’ 5 â†’ 7 â†’ 101)             |
| 7 | 18      | 4 (2 â†’ 5 â†’ 7 â†’ 18)              |

æœ€ç»ˆç­”æ¡ˆä¸º `4`ã€‚

---

# â± æ—¶é—´å¤æ‚åº¦

### **O(nÂ²)**

åŒå±‚å¾ªç¯ï¼Œn æœ€å¤š 2500ï¼Œå¯ä»¥æ¥å—ã€‚

---

# ğŸ’¾ ç©ºé—´å¤æ‚åº¦

### **O(n)**

dp æ•°ç»„é•¿åº¦ nã€‚

---

dp[i] å½“å‰iç»“å°¾çš„æœ€é•¿é€’å¢ 
dp[i] = if nums[i] > num[j]ä¹‹å‰æœ€å¤§çš„dp[j] + 1 / dp[i]