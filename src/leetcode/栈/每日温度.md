---
icon: pen-to-square
date: 2025-12-10
category:
- åç«¯
tag:
- å•è°ƒæ ˆ
- æ•°ç»„
- leetcode
---

# 739. æ¯æ—¥æ¸©åº¦

## ğŸ“ é¢˜ç›®æè¿°
ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `temperatures`ï¼Œè¡¨ç¤ºæ¯å¤©çš„æ¸©åº¦ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ `answer`ï¼Œå…¶ä¸­ `answer[i]` æ˜¯**å¯¹äºç¬¬ i å¤©ï¼Œä¸‹ä¸€ä¸ªæ›´é«˜æ¸©åº¦å‡ºç°åœ¨å‡ å¤©å**ã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ `0` æ¥ä»£æ›¿ã€‚


---

## ğŸ“Œ ç¤ºä¾‹

### ç¤ºä¾‹ 1
è¾“å…¥ï¼š
```
temperatures = [73,74,75,71,69,72,76,73]
```
è¾“å‡ºï¼š
```
[1,1,4,2,1,1,0,0]
```
è§£é‡Šï¼š
- ç¬¬0å¤©ï¼ˆ73ï¼‰çš„ä¸‹ä¸€ä¸ªæ›´é«˜æ¸©åº¦æ˜¯ç¬¬1å¤©ï¼ˆ74ï¼‰ï¼Œå·®1å¤©ï¼›
- ç¬¬2å¤©ï¼ˆ75ï¼‰çš„ä¸‹ä¸€ä¸ªæ›´é«˜æ¸©åº¦æ˜¯ç¬¬6å¤©ï¼ˆ76ï¼‰ï¼Œå·®4å¤©ï¼›
- ç¬¬6å¤©ï¼ˆ76ï¼‰ä¹‹åæ— æ›´é«˜æ¸©åº¦ï¼Œè®°ä¸º0ã€‚


### ç¤ºä¾‹ 2
è¾“å…¥ï¼š
```
temperatures = [30,40,50,60]
```
è¾“å‡ºï¼š
```
[1,1,1,0]
```


### ç¤ºä¾‹ 3
è¾“å…¥ï¼š
```
temperatures = [30,60,90]
```
è¾“å‡ºï¼š
```
[1,1,0]
```


---

# ğŸš€ æœ€ä¼˜è§£ï¼šå•è°ƒæ ˆï¼ˆç»´æŠ¤é€’å‡ä¸‹æ ‡åºåˆ—ï¼‰

### ğŸ” æ€è·¯è§£æ
æ ¸å¿ƒè´ªå¿ƒç­–ç•¥ï¼š**ç”¨å•è°ƒæ ˆç»´æŠ¤â€œæœªæ‰¾åˆ°æ›´é«˜æ¸©åº¦çš„å¤©æ•°ä¸‹æ ‡â€ï¼Œæ ˆå†…ä¸‹æ ‡å¯¹åº”çš„æ¸©åº¦å‘ˆé€’å‡é¡ºåºï¼›éå†æ•°ç»„æ—¶ï¼Œè‹¥å½“å‰æ¸©åº¦é«˜äºæ ˆé¡¶ä¸‹æ ‡å¯¹åº”çš„æ¸©åº¦ï¼Œå°±è®¡ç®—å¤©æ•°å·®å¹¶å¼¹å‡ºæ ˆé¡¶ï¼Œç›´åˆ°æ ˆç©ºæˆ–å½“å‰æ¸©åº¦ä¸æ›´é«˜ï¼Œå†å°†å½“å‰ä¸‹æ ‡å…¥æ ˆ**ã€‚
1. åˆå§‹åŒ–ï¼š
   - `stack`ï¼šå­˜å‚¨æ¸©åº¦æ•°ç»„çš„ä¸‹æ ‡ï¼Œä¿æŒæ ˆå†…ä¸‹æ ‡å¯¹åº”çš„æ¸©åº¦**é€’å‡**ï¼›
   - `ans`ï¼šç»“æœæ•°ç»„ï¼Œåˆå§‹å€¼å…¨ä¸º0ï¼›
2. éå†æ¸©åº¦æ•°ç»„çš„æ¯ä¸ªä¸‹æ ‡ `i`ï¼š
   - å¾ªç¯åˆ¤æ–­ï¼šè‹¥æ ˆéç©ºï¼Œä¸”å½“å‰æ¸©åº¦ `temperatures[i] > temperatures[stack.peek()]`ï¼ˆå½“å‰æ¸©åº¦æ›´é«˜ï¼‰ï¼š
     - å¼¹å‡ºæ ˆé¡¶ä¸‹æ ‡ `pre`ï¼ˆä»£è¡¨ä¹‹å‰çš„æŸä¸€å¤©ï¼‰ï¼›
     - è®¡ç®—å¤©æ•°å·®ï¼š`ans[pre] = i - pre`ï¼›
   - å°†å½“å‰ä¸‹æ ‡ `i` å…¥æ ˆï¼ˆç­‰å¾…åç»­æ›´é«˜æ¸©åº¦ï¼‰ï¼›
3. éå†ç»“æŸåï¼Œ`ans` å³ä¸ºç»“æœï¼ˆæœªå¼¹å‡ºçš„ä¸‹æ ‡å¯¹åº” `ans` ä¸º0ï¼‰ã€‚


---

## âœ… å®Œæ•´ä»£ç ï¼ˆJavaï¼‰
```java
import java.util.Scanner;
import java.util.Stack;

public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        // Read temperatures array
        String input = scanner.nextLine();
        input = input.substring(1, input.length() - 1); // Remove brackets
        String[] temps = input.split(",");

        int[] temperatures = new int[temps.length];
        for (int i = 0; i < temps.length; i++) {
            temperatures[i] = Integer.parseInt(temps[i].trim());
        }

        Solution solution = new Solution();
        int[] result = solution.dailyTemperatures(temperatures);

        // Print result array
        System.out.print("[");
        for (int i = 0; i < result.length; i++) {
            System.out.print(result[i]);
            if (i < result.length - 1) {
                System.out.print(",");
            }
        }
        System.out.println("]");

        scanner.close();
    }
}

class Solution {
    public int[] dailyTemperatures(int[] temperatures) {
        int n = temperatures.length;
        Stack<Integer> stack = new Stack<>(); // å­˜å‚¨ä¸‹æ ‡ï¼Œä¿æŒæ¸©åº¦é€’å‡
        int[] ans = new int[n]; // ç»“æœæ•°ç»„ï¼Œé»˜è®¤å…¨0

        for (int i = 0; i < n; i++) {
            // å½“å‰æ¸©åº¦ > æ ˆé¡¶ä¸‹æ ‡å¯¹åº”çš„æ¸©åº¦ â†’ è®¡ç®—å¤©æ•°å·®
            while (!stack.isEmpty() && temperatures[i] > temperatures[stack.peek()]) {
                int pre = stack.pop(); // å¼¹å‡ºä¹‹å‰çš„å¤©æ•°ä¸‹æ ‡
                ans[pre] = i - pre;    // è®°å½•å¤©æ•°å·®
            }
            stack.add(i); // å½“å‰ä¸‹æ ‡å…¥æ ˆï¼Œç­‰å¾…åç»­æ›´é«˜æ¸©åº¦
        }
        return ans;
    }
}
```


---

# ğŸ§  é€šä¿—æ˜“æ‡‚è§£é‡Š
å¯ä»¥æŠŠæ ˆæƒ³è±¡æˆâ€œç­‰å¾…â€˜å‡æ¸©â€™çš„æ’é˜Ÿé˜Ÿä¼â€ï¼š
- æ¯ä¸ªâ€œé˜Ÿå‘˜â€æ˜¯æŸä¸€å¤©çš„ä¸‹æ ‡ï¼Œé˜Ÿä¼é‡Œçš„é˜Ÿå‘˜å¯¹åº”çš„æ¸©åº¦æ˜¯â€œè¶Šæ¥è¶Šä½â€çš„ï¼ˆåé¢çš„é˜Ÿå‘˜æ¯”å‰é¢çš„å†·ï¼‰ï¼›
- æ–°æ¥äº†ä¸€ä¸ªâ€œé˜Ÿå‘˜iâ€ï¼ˆå½“å‰å¤©ï¼‰ï¼Œå¦‚æœä»–æ¯”é˜Ÿé¦–çš„é˜Ÿå‘˜æ›´çƒ­ï¼Œå°±æŠŠé˜Ÿé¦–çš„é˜Ÿå‘˜â€œæ”¾å‡ºå»â€ï¼Œå¹¶å‘Šè¯‰é˜Ÿé¦–é˜Ÿå‘˜ï¼šâ€œä½ ç­‰äº†`i - é˜Ÿé¦–ä¸‹æ ‡`å¤©ï¼Œæˆ‘å°±æ˜¯ä½ è¦ç­‰çš„æ›´é«˜æ¸©åº¦â€ï¼›
- é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°é˜Ÿé¦–é˜Ÿå‘˜æ¯”â€œé˜Ÿå‘˜iâ€å†·ï¼Œæˆ–è€…é˜Ÿä¼ç©ºäº†ï¼Œâ€œé˜Ÿå‘˜iâ€å†åŠ å…¥é˜Ÿä¼ç­‰å¾…è‡ªå·±çš„æ›´é«˜æ¸©åº¦ã€‚

ä»¥ç¤ºä¾‹1 `temperatures = [73,74,75,71,69,72,76,73]` ä¸ºä¾‹ï¼š
1. `i=0`ï¼ˆ73ï¼‰ï¼šæ ˆç©ºï¼Œå…¥æ ˆ â†’ æ ˆï¼š[0]ï¼›
2. `i=1`ï¼ˆ74ï¼‰ï¼š74>73ï¼ˆæ ˆé¡¶0çš„æ¸©åº¦ï¼‰ï¼Œå¼¹å‡º0 â†’ `ans[0]=1-0=1`ï¼Œå…¥æ ˆ1 â†’ æ ˆï¼š[1]ï¼›
3. `i=2`ï¼ˆ75ï¼‰ï¼š75>74ï¼ˆæ ˆé¡¶1çš„æ¸©åº¦ï¼‰ï¼Œå¼¹å‡º1 â†’ `ans[1]=2-1=1`ï¼Œå…¥æ ˆ2 â†’ æ ˆï¼š[2]ï¼›
4. `i=3`ï¼ˆ71ï¼‰ï¼š71<75ï¼Œå…¥æ ˆ3 â†’ æ ˆï¼š[2,3]ï¼›
5. `i=4`ï¼ˆ69ï¼‰ï¼š69<71ï¼Œå…¥æ ˆ4 â†’ æ ˆï¼š[2,3,4]ï¼›
6. `i=5`ï¼ˆ72ï¼‰ï¼š72>69ï¼ˆæ ˆé¡¶4ï¼‰â†’ å¼¹å‡º4ï¼Œ`ans[4]=5-4=1`ï¼›72>71ï¼ˆæ ˆé¡¶3ï¼‰â†’ å¼¹å‡º3ï¼Œ`ans[3]=5-3=2`ï¼›72<75ï¼ˆæ ˆé¡¶2ï¼‰ï¼Œå…¥æ ˆ5 â†’ æ ˆï¼š[2,5]ï¼›
7. åç»­æ­¥éª¤ä»¥æ­¤ç±»æ¨ï¼Œæœ€ç»ˆå¾—åˆ°ç»“æœæ•°ç»„ã€‚


---

# â± æ—¶é—´å¤æ‚åº¦
### **O(n)**
æ¯ä¸ªä¸‹æ ‡ä»…å…¥æ ˆã€å‡ºæ ˆå„ä¸€æ¬¡ï¼Œéå†æ•°ç»„çš„æ—¶é—´ä¸ºçº¿æ€§çº§ã€‚


---

# ğŸ’¾ ç©ºé—´å¤æ‚åº¦
### **O(n)**
æ ˆçš„æœ€å¤§ç©ºé—´ä¸º `n`ï¼ˆæœ€åæƒ…å†µæ¸©åº¦æ•°ç»„ä¸¥æ ¼é€’å‡ï¼Œæ‰€æœ‰ä¸‹æ ‡éƒ½å…¥æ ˆï¼‰ã€‚


---
