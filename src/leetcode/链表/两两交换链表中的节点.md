---
icon: pen-to-square
date: 2025-1-04
category:
- åç«¯
tag:
- é“¾è¡¨
- leecode
---

# 24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹

## ğŸ“ é¢˜ç›®æè¿°
ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¦æ±‚**ä¸¤ä¸¤äº¤æ¢**å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚è¦æ±‚ä¸èƒ½ä¿®æ”¹èŠ‚ç‚¹çš„æ•°å€¼ï¼Œåªèƒ½é€šè¿‡è°ƒæ•´èŠ‚ç‚¹çš„æŒ‡é’ˆå®Œæˆäº¤æ¢ã€‚


## ğŸ“Œ ç¤ºä¾‹
### ç¤ºä¾‹ 1
è¾“å…¥ï¼š`head = [1,2,3,4]`
è¾“å‡ºï¼š`[2,1,4,3]`
è§£é‡Šï¼šåŸé“¾è¡¨ä¸­ç›¸é‚»èŠ‚ç‚¹ï¼ˆ1å’Œ2ã€3å’Œ4ï¼‰ä¸¤ä¸¤äº¤æ¢ï¼ŒæŒ‡é’ˆè°ƒæ•´åå¾—åˆ°æ–°é“¾è¡¨ã€‚

### ç¤ºä¾‹ 2
è¾“å…¥ï¼š`head = []`
è¾“å‡ºï¼š`[]`

### ç¤ºä¾‹ 3
è¾“å…¥ï¼š`head = [1]`
è¾“å‡ºï¼š`[1]`
è§£é‡Šï¼šåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ— éœ€äº¤æ¢ã€‚


## ğŸš€ æœ€ä¼˜è§£ï¼šé€’å½’æ³•
### ğŸ” æ€è·¯è§£æ
æ ¸å¿ƒç­–ç•¥ï¼šå°†â€œäº¤æ¢æ•´ä¸ªé“¾è¡¨â€æ‹†è§£ä¸º**äº¤æ¢å½“å‰ç›¸é‚»èŠ‚ç‚¹ + é€’å½’å¤„ç†å‰©ä½™é“¾è¡¨**ï¼Œåˆ©ç”¨é€’å½’çš„å›æº¯ç‰¹æ€§å®ŒæˆæŒ‡é’ˆè°ƒæ•´ï¼š
1. **ç»ˆæ­¢æ¡ä»¶**ï¼šå½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œæˆ–å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©ºï¼ˆæ— ç›¸é‚»èŠ‚ç‚¹å¯äº¤æ¢ï¼‰ï¼›
2. **é€’å½’é€»è¾‘**ï¼š
    - è®°å½•å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆè®°ä¸º `start`ï¼Œå³äº¤æ¢åçš„æ–°å¤´èŠ‚ç‚¹ï¼‰ï¼›
    - è°ƒæ•´æŒ‡é’ˆï¼šè®© `start` æŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼ˆå®Œæˆå½“å‰å¯¹çš„äº¤æ¢ï¼‰ï¼›
    - é€’å½’å¤„ç†å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸‹ä¸ªèŠ‚ç‚¹ï¼ˆå³å‰©ä½™é“¾è¡¨ï¼‰ï¼Œå¹¶å°†ç»“æœä½œä¸ºå½“å‰èŠ‚ç‚¹çš„ `next`ï¼›
3. **è¿”å›å€¼**ï¼šè¿”å›äº¤æ¢åçš„æ–°å¤´èŠ‚ç‚¹ï¼ˆå³ `start`ï¼‰ã€‚


---

## âœ… å®Œæ•´ä»£ç ï¼ˆJavaï¼‰
```java
import java.util.Scanner;

public class Main {
    private static ListNode buildList(String line) {
        if (line == null) {
            return null;
        }
        line = line.trim();
        if (line.isEmpty()) {
            return null;
        }
        String[] values = line.split(" ");
        ListNode dummy = new ListNode(0);
        ListNode tail = dummy;
        for (String val : values) {
            if (val.isEmpty()) {
                continue;
            }
            tail.next = new ListNode(Integer.parseInt(val));
            tail = tail.next;
        }
        return dummy.next;
    }

    private static void printList(ListNode head) {
        StringBuilder sb = new StringBuilder();
        while (head != null) {
            sb.append(head.val);
            if (head.next != null) {
                sb.append(" ");
            }
            head = head.next;
        }
        System.out.println(sb.toString());
    }

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        String line = scanner.hasNextLine() ? scanner.nextLine() : "";
        ListNode head = buildList(line);

        Solution solution = new Solution();
        ListNode result = solution.swapPairs(head);
        printList(result);
        scanner.close();
    }
}

class Solution {
    public ListNode swapPairs(ListNode head) {
        // ç»ˆæ­¢æ¡ä»¶ï¼šæ— èŠ‚ç‚¹æˆ–åªå‰©ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ— éœ€äº¤æ¢
        if (head == null || head.next == null) {
            return head;
        }
        // startæ˜¯å½“å‰å¯¹çš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼ˆäº¤æ¢åçš„æ–°å¤´ï¼‰
        ListNode start = head.next;
        // é€’å½’å¤„ç†å‰©ä½™é“¾è¡¨ï¼Œç»“æœä½œä¸ºheadçš„next
        head.next = swapPairs(start.next);
        // äº¤æ¢å½“å‰å¯¹çš„æŒ‡é’ˆï¼šstartæŒ‡å‘head
        start.next = head;
        // è¿”å›æ–°çš„å¤´èŠ‚ç‚¹
        return start;
    }
}

class ListNode {
    int val;
    ListNode next;
    ListNode() {}
    ListNode(int val) { this.val = val; }
    ListNode(int val, ListNode next) { this.val = val; this.next = next; }
}
```


---

## ğŸ§  é€šä¿—æ˜“æ‡‚è§£é‡Š
å¯ä»¥æŠŠé“¾è¡¨æƒ³è±¡æˆâ€œä¸€ä¸²ç å­â€ï¼Œä¸¤ä¸¤äº¤æ¢çš„è¿‡ç¨‹ç±»ä¼¼**å…ˆäº¤æ¢å‰ä¸¤é¢—ï¼Œå†æŠŠå‰©ä¸‹çš„ç å­é€’å½’äº¤æ¢åæ¥å›æ¥**ï¼š
- æ¯”å¦‚é“¾è¡¨ `1â†’2â†’3â†’4`ï¼š
    1. å…ˆäº¤æ¢å‰ä¸¤é¢—ï¼ˆ1å’Œ2ï¼‰ï¼Œå¾—åˆ° `2â†’1`ï¼›
    2. é€’å½’äº¤æ¢å‰©ä¸‹çš„ `3â†’4`ï¼Œå¾—åˆ° `4â†’3`ï¼›
    3. æŠŠ `1` çš„ `next` æŒ‡å‘ `4`ï¼Œæœ€ç»ˆå¾—åˆ° `2â†’1â†’4â†’3`ã€‚

ä»¥ç¤ºä¾‹1ï¼ˆ`head = [1,2,3,4]`ï¼‰ä¸ºä¾‹ï¼š
1. åˆå§‹ `head=1`ï¼Œ`start=2`ï¼›
2. é€’å½’å¤„ç† `start.next=3`ï¼Œè¿›å…¥å­é—®é¢˜ï¼š
    - å­é—®é¢˜ä¸­ `head=3`ï¼Œ`start=4`ï¼›
    - é€’å½’å¤„ç† `start.next=null`ï¼Œè¿”å› `null`ï¼›
    - `3.next=null`ï¼Œ`4.next=3`ï¼Œå­é—®é¢˜è¿”å› `4`ï¼›
3. åŸé—®é¢˜ä¸­ `1.next=4`ï¼Œ`2.next=1`ï¼›
4. è¿”å› `2`ï¼Œæœ€ç»ˆé“¾è¡¨ä¸º `2â†’1â†’4â†’3`ã€‚


---

## â± æ—¶é—´å¤æ‚åº¦
- \(O(n)\)ï¼ˆ`n` ä¸ºé“¾è¡¨é•¿åº¦ï¼‰
  é€’å½’éå†äº†é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä»…å¤„ç†ä¸€æ¬¡ã€‚


---

## ğŸ’¾ ç©ºé—´å¤æ‚åº¦
- \(O(n/2) = O(n)\)
  é€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦ä¸ºé“¾è¡¨é•¿åº¦çš„ä¸€åŠï¼ˆæ¯äº¤æ¢ä¸¤ä¸ªèŠ‚ç‚¹é€’å½’ä¸€æ¬¡ï¼‰ï¼Œç©ºé—´æ¶ˆè€—ä¸é“¾è¡¨é•¿åº¦æˆæ­£æ¯”ã€‚
