"use strict";(self.webpackChunkblog_road=self.webpackChunkblog_road||[]).push([[4077],{66262:(s,i)=>{i.A=(s,i)=>{const a=s.__vccOpts||s;for(const[s,e]of i)a[s]=e;return a}},46718:(s,i,a)=>{a.r(i),a.d(i,{comp:()=>t,data:()=>h});var e=a(20641);const n=[(0,e.Fv)('<h1 id="短链接系统全流程设计详解-从原理到落地-一篇看懂" tabindex="-1"><a class="header-anchor" href="#短链接系统全流程设计详解-从原理到落地-一篇看懂"><span>短链接系统全流程设计详解：从原理到落地，一篇看懂！</span></a></h1><hr><h2 id="背景-什么是短链接-为什么要设计它" tabindex="-1"><a class="header-anchor" href="#背景-什么是短链接-为什么要设计它"><span>背景：什么是短链接？为什么要设计它？</span></a></h2><p>在实际开发中，我们经常会遇到一些<strong>超长 URL</strong>，例如：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>https://www.jd.com/special/activity/2024-07-13/ads/campaign?id=987654321&amp;user=abc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果我们要把它放到微信、微博、短信、二维码、甚至名片上展示 —— <strong>太长了！</strong></p><p>因此诞生了短链接：</p><blockquote><p>将一个长链接转换成一个结构简短、唯一可跳转的短网址，例如：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>https://dl.x/abc123</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></blockquote><hr><h2 id="短链接系统要解决哪些问题" tabindex="-1"><a class="header-anchor" href="#短链接系统要解决哪些问题"><span>短链接系统要解决哪些问题？</span></a></h2><table><thead><tr><th>核心目标</th><th>解释</th></tr></thead><tbody><tr><td>唯一性</td><td>相同长链接不能生成不同短码，避免重复跳转</td></tr><tr><td>高性能</td><td>高并发访问不能挂、响应必须快</td></tr><tr><td>高可用</td><td>系统稳定、支持缓存降级、容灾</td></tr><tr><td>可拓展性</td><td>支持设置失效时间、访问统计、批量生成</td></tr></tbody></table><hr><h2 id="系统整体流程图-超详细" tabindex="-1"><a class="header-anchor" href="#系统整体流程图-超详细"><span>系统整体流程图（超详细）</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>                +------------------------+</span></span>\n<span class="line"><span>                |  用户提交长链接         |</span></span>\n<span class="line"><span>                +----------+-------------+</span></span>\n<span class="line"><span>                           |</span></span>\n<span class="line"><span>                           v</span></span>\n<span class="line"><span>           +-----------------------------+</span></span>\n<span class="line"><span>           |  1. 检查是否已生成短码（缓存+DB） |</span></span>\n<span class="line"><span>           +-----------------------------+</span></span>\n<span class="line"><span>                     | 有          | 无</span></span>\n<span class="line"><span>                     v            v</span></span>\n<span class="line"><span>             返回已有短码     +----------------------+</span></span>\n<span class="line"><span>                             | 2. 生成新短码        |</span></span>\n<span class="line"><span>                             +----------------------+</span></span>\n<span class="line"><span>                                      |</span></span>\n<span class="line"><span>                    +-----------------------------------------+</span></span>\n<span class="line"><span>                    | 3. 保存映射关系（短码 -&gt; 长链接）        |</span></span>\n<span class="line"><span>                    +--------------------+--------------------+</span></span>\n<span class="line"><span>                                         |</span></span>\n<span class="line"><span>                                         v</span></span>\n<span class="line"><span>                           返回完整短链接（如 dl.x/abc123）</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>                           ↓</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>      用户访问 dl.x/abc123  → 查询短码 → 拿到长链接 → 返回 302 重定向</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="核心模块一-短码生成逻辑" tabindex="-1"><a class="header-anchor" href="#核心模块一-短码生成逻辑"><span>核心模块一：短码生成逻辑</span></a></h2><h3 id="方案一-哈希-62-进制编码-推荐" tabindex="-1"><a class="header-anchor" href="#方案一-哈希-62-进制编码-推荐"><span>方案一：哈希 + 62 进制编码（推荐）</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>原始链接 --&gt; MD5/SHA1 哈希 --&gt; 截取前 8 位 --&gt; base62 编码 --&gt; 短码</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>例如：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> hash </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> MD5</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://xxx.com/page?id=123&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // 16进制</span></span>\n<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> shortCode </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> toBase62</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">substring</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // abc123</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="优点" tabindex="-1"><a class="header-anchor" href="#优点"><span>优点</span></a></h3><ul><li>不依赖数据库自增 ID，可水平扩展</li><li>原链接相同，生成短码一致</li></ul><h3 id="缺点" tabindex="-1"><a class="header-anchor" href="#缺点"><span>缺点</span></a></h3><ul><li>哈希冲突概率虽小但存在（需做冲突检查）</li></ul><hr><h3 id="方案二-自增-id-base62-转换" tabindex="-1"><a class="header-anchor" href="#方案二-自增-id-base62-转换"><span>方案二：自增 ID + base62 转换</span></a></h3><p>数据库维护一个主键自增 ID：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>id: 12345678 --&gt; base62编码 --&gt; gkT2s</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>优点：无冲突、短码稳定 缺点：需中心化分发，分库分表时管理复杂</p><hr><h2 id="核心模块二-映射存储设计-mysql-redis" tabindex="-1"><a class="header-anchor" href="#核心模块二-映射存储设计-mysql-redis"><span>核心模块二：映射存储设计（MySQL + Redis）</span></a></h2><h3 id="表结构设计-mysql" tabindex="-1"><a class="header-anchor" href="#表结构设计-mysql"><span>表结构设计（MySQL）</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> short_link</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">BIGINT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT,</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  short_code </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UNIQUE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  long_url </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TEXT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  create_time </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DATETIME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  expire_time </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DATETIME</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="redis-设计-用于加速跳转" tabindex="-1"><a class="header-anchor" href="#redis-设计-用于加速跳转"><span>Redis 设计（用于加速跳转）</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> short:abc123</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;https://long-url.com/xxx&quot;</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">EXPIRE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> short:abc123</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 30d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="核心模块三-短链跳转逻辑" tabindex="-1"><a class="header-anchor" href="#核心模块三-短链跳转逻辑"><span>核心模块三：短链跳转逻辑</span></a></h2><p>当用户访问 <code>https://dl.x/abc123</code>，后端逻辑：</p><ol><li>拿到路径短码 <code>abc123</code></li><li>去 Redis 查找：<code>short:abc123</code></li><li>找不到？→ 去 MySQL 查表</li><li>找到对应长链接 <code>https://jd.com/xxx</code></li><li>返回 HTTP 302 跳转</li></ol><div class="language-http line-numbers-mode" data-highlighter="shiki" data-ext="http" data-title="http" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">HTTP/1.1 302 Found</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Location</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://jd.com/xxx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="核心模块四-访问统计-分析" tabindex="-1"><a class="header-anchor" href="#核心模块四-访问统计-分析"><span>核心模块四：访问统计 &amp; 分析</span></a></h2><p>可通过日志系统或表记录访问次数：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> access_log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">BIGINT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  short_code </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  access_time </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DATETIME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ip_address </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">45</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  user_agent </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TEXT</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="系统挑战与解决方案汇总" tabindex="-1"><a class="header-anchor" href="#系统挑战与解决方案汇总"><span>系统挑战与解决方案汇总</span></a></h2><table><thead><tr><th>问题</th><th>解决方案</th></tr></thead><tbody><tr><td>短码冲突</td><td>哈希 + 检查冲突，冲突后重试或加盐</td></tr><tr><td>高并发跳转性能瓶颈</td><td>Redis 缓存，Nginx 预热，CDN 边缘重定向</td></tr><tr><td>热点短链被刷爆</td><td>加限流 + IP 黑名单，访问频控</td></tr><tr><td>数据失效</td><td>增加过期字段 expire_time，定期清理</td></tr><tr><td>批量生成短链</td><td>支持批量接口 + 后台任务分批插入</td></tr></tbody></table><hr><h2 id="可拓展功能推荐-高级面试加分" tabindex="-1"><a class="header-anchor" href="#可拓展功能推荐-高级面试加分"><span>可拓展功能推荐（高级面试加分）</span></a></h2><table><thead><tr><th>功能</th><th>实现方式</th></tr></thead><tbody><tr><td>自定义短码</td><td>提供前端自定义输入，校验重复性</td></tr><tr><td>多平台跳转</td><td>配置字段：Android、iOS、PC 三个长链地址</td></tr><tr><td>权限控制</td><td>不登录不给生成，或添加验证码</td></tr><tr><td>活动链统计</td><td>聚合访问量、跳出率、转化率</td></tr><tr><td>防钓鱼验证</td><td>对访问人加 Referer / UA 检查</td></tr></tbody></table><hr><h2 id="面试总结模板-开口即专业" tabindex="-1"><a class="header-anchor" href="#面试总结模板-开口即专业"><span>面试总结模板（开口即专业）</span></a></h2><blockquote><p>我们会先通过 MD5 + base62 编码生成短码，判断是否已存在缓存和 DB 中；不存在则插入映射关系，返回短链。短链访问时查 Redis → DB，返回 302 重定向。系统考虑并发、唯一性、失效等问题，还可以拓展自定义短码、访问分析、权限控制等功能。</p></blockquote><hr><h2 id="最终总结一句话" tabindex="-1"><a class="header-anchor" href="#最终总结一句话"><span>最终总结一句话</span></a></h2><blockquote><p><strong>短链系统的核心，是一个“高并发安全可控的映射重定向系统”。</strong></p></blockquote><p>不是简单哈希就完事了，而是：<strong>短码生成 + 存储映射 + 跳转服务 + 安全机制 + 拓展能力 = 系统完整性！</strong></p><hr><h2 id="工程里的关键补充点" tabindex="-1"><a class="header-anchor" href="#工程里的关键补充点"><span>工程里的关键补充点</span></a></h2><h3 id="唯一性与冲突" tabindex="-1"><a class="header-anchor" href="#唯一性与冲突"><span>唯一性与冲突</span></a></h3><ul><li>哈希方案必须做冲突检测，冲突可加盐或延长码长</li><li>自增 ID 方案要考虑号段分配与中心化瓶颈</li></ul><h3 id="缓存与一致性" tabindex="-1"><a class="header-anchor" href="#缓存与一致性"><span>缓存与一致性</span></a></h3><ul><li>Redis 与 DB 一致性要有兜底策略</li><li>热点短码要有本地缓存或多级缓存</li></ul><h3 id="访问安全" tabindex="-1"><a class="header-anchor" href="#访问安全"><span>访问安全</span></a></h3><ul><li>对访问频次做限流，防刷爆热点短链</li><li>可选加白名单或黑名单策略</li></ul><h3 id="失效与清理" tabindex="-1"><a class="header-anchor" href="#失效与清理"><span>失效与清理</span></a></h3><ul><li>过期短码要有定时清理任务</li><li>清理要避免误删活跃短码</li></ul>',67)],l={},t=(0,a(66262).A)(l,[["render",function(s,i){return(0,e.uX)(),(0,e.CE)("div",null,n)}]]),h=JSON.parse('{"path":"/tech/%E5%9C%BA%E6%99%AF/%E7%9F%AD%E9%93%BE%E6%8E%A5.html","title":"短链接系统全流程设计详解：从原理到落地，一篇看懂！","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2025-07-13T00:00:00.000Z","category":["后端"],"tag":["Java","面试","场景"],"description":"短链接系统全流程设计详解：从原理到落地，一篇看懂！ 背景：什么是短链接？为什么要设计它？ 在实际开发中，我们经常会遇到一些超长 URL，例如： 如果我们要把它放到微信、微博、短信、二维码、甚至名片上展示 —— 太长了！ 因此诞生了短链接： 将一个长链接转换成一个结构简短、唯一可跳转的短网址，例如： 短链接系统要解决哪些问题？ 系统整体流程图（超详细） ...","head":[["meta",{"property":"og:url","content":"https://xlb3055.github.io/newBlog/tech/%E5%9C%BA%E6%99%AF/%E7%9F%AD%E9%93%BE%E6%8E%A5.html"}],["meta",{"property":"og:site_name","content":"Bin的技术博客"}],["meta",{"property":"og:title","content":"短链接系统全流程设计详解：从原理到落地，一篇看懂！"}],["meta",{"property":"og:description","content":"短链接系统全流程设计详解：从原理到落地，一篇看懂！ 背景：什么是短链接？为什么要设计它？ 在实际开发中，我们经常会遇到一些超长 URL，例如： 如果我们要把它放到微信、微博、短信、二维码、甚至名片上展示 —— 太长了！ 因此诞生了短链接： 将一个长链接转换成一个结构简短、唯一可跳转的短网址，例如： 短链接系统要解决哪些问题？ 系统整体流程图（超详细） ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-21T09:06:17.000Z"}],["meta",{"property":"article:author","content":"Bin"}],["meta",{"property":"article:tag","content":"Java"}],["meta",{"property":"article:tag","content":"面试"}],["meta",{"property":"article:tag","content":"场景"}],["meta",{"property":"article:published_time","content":"2025-07-13T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-21T09:06:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"短链接系统全流程设计详解：从原理到落地，一篇看懂！\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-07-13T00:00:00.000Z\\",\\"dateModified\\":\\"2026-01-21T09:06:17.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Bin\\",\\"url\\":\\"/avator_img.jpg\\"}]}"]]},"headers":[{"level":2,"title":"背景：什么是短链接？为什么要设计它？","slug":"背景-什么是短链接-为什么要设计它","link":"#背景-什么是短链接-为什么要设计它","children":[]},{"level":2,"title":"短链接系统要解决哪些问题？","slug":"短链接系统要解决哪些问题","link":"#短链接系统要解决哪些问题","children":[]},{"level":2,"title":"系统整体流程图（超详细）","slug":"系统整体流程图-超详细","link":"#系统整体流程图-超详细","children":[]},{"level":2,"title":"核心模块一：短码生成逻辑","slug":"核心模块一-短码生成逻辑","link":"#核心模块一-短码生成逻辑","children":[{"level":3,"title":"方案一：哈希 + 62 进制编码（推荐）","slug":"方案一-哈希-62-进制编码-推荐","link":"#方案一-哈希-62-进制编码-推荐","children":[]},{"level":3,"title":"优点","slug":"优点","link":"#优点","children":[]},{"level":3,"title":"缺点","slug":"缺点","link":"#缺点","children":[]},{"level":3,"title":"方案二：自增 ID + base62 转换","slug":"方案二-自增-id-base62-转换","link":"#方案二-自增-id-base62-转换","children":[]}]},{"level":2,"title":"核心模块二：映射存储设计（MySQL + Redis）","slug":"核心模块二-映射存储设计-mysql-redis","link":"#核心模块二-映射存储设计-mysql-redis","children":[{"level":3,"title":"表结构设计（MySQL）","slug":"表结构设计-mysql","link":"#表结构设计-mysql","children":[]},{"level":3,"title":"Redis 设计（用于加速跳转）","slug":"redis-设计-用于加速跳转","link":"#redis-设计-用于加速跳转","children":[]}]},{"level":2,"title":"核心模块三：短链跳转逻辑","slug":"核心模块三-短链跳转逻辑","link":"#核心模块三-短链跳转逻辑","children":[]},{"level":2,"title":"核心模块四：访问统计 & 分析","slug":"核心模块四-访问统计-分析","link":"#核心模块四-访问统计-分析","children":[]},{"level":2,"title":"系统挑战与解决方案汇总","slug":"系统挑战与解决方案汇总","link":"#系统挑战与解决方案汇总","children":[]},{"level":2,"title":"可拓展功能推荐（高级面试加分）","slug":"可拓展功能推荐-高级面试加分","link":"#可拓展功能推荐-高级面试加分","children":[]},{"level":2,"title":"面试总结模板（开口即专业）","slug":"面试总结模板-开口即专业","link":"#面试总结模板-开口即专业","children":[]},{"level":2,"title":"最终总结一句话","slug":"最终总结一句话","link":"#最终总结一句话","children":[]},{"level":2,"title":"工程里的关键补充点","slug":"工程里的关键补充点","link":"#工程里的关键补充点","children":[{"level":3,"title":"唯一性与冲突","slug":"唯一性与冲突","link":"#唯一性与冲突","children":[]},{"level":3,"title":"缓存与一致性","slug":"缓存与一致性","link":"#缓存与一致性","children":[]},{"level":3,"title":"访问安全","slug":"访问安全","link":"#访问安全","children":[]},{"level":3,"title":"失效与清理","slug":"失效与清理","link":"#失效与清理","children":[]}]}],"git":{"createdTime":1752425897000,"updatedTime":1768986377000,"contributors":[{"name":"bin","email":"13598151+binxlb@user.noreply.gitee.com","commits":3}]},"readingTime":{"minutes":3.97,"words":1192},"filePathRelative":"tech/场景/短链接.md","localizedDate":"2025年7月13日","excerpt":"\\n<hr>\\n<h2>背景：什么是短链接？为什么要设计它？</h2>\\n<p>在实际开发中，我们经常会遇到一些<strong>超长 URL</strong>，例如：</p>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>https://www.jd.com/special/activity/2024-07-13/ads/campaign?id=987654321&amp;user=abc</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')}}]);