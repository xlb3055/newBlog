"use strict";(self.webpackChunkblog_road=self.webpackChunkblog_road||[]).push([[5099],{66262:(i,e)=>{e.A=(i,e)=>{const a=i.__vccOpts||i;for(const[i,s]of e)a[i]=s;return a}},21116:(i,e,a)=>{a.r(e),a.d(e,{comp:()=>l,data:()=>h});var s=a(20641);const t=[(0,s.Fv)('<h1 id="因素07-用工具调用联系人工" tabindex="-1"><a class="header-anchor" href="#因素07-用工具调用联系人工"><span>因素07：用工具调用联系人工</span></a></h1><blockquote><p>来源：12-Factor Agents / Factor 7（Contact humans with tool calls）</p></blockquote><h2 id="一句话先懂" tabindex="-1"><a class="header-anchor" href="#一句话先懂"><span>一句话先懂</span></a></h2><p>“请求人工介入”也要做成结构化工具调用，而不是模型随口说一句。</p><h2 id="奶奶版理解" tabindex="-1"><a class="header-anchor" href="#奶奶版理解"><span>奶奶版理解</span></a></h2><p>社区办事时，工作人员给你的不是“你看着办”，而是标准表单：</p><ul><li>要你确认什么</li><li>什么时候回复</li><li>可选项有哪些</li></ul><p>这就是结构化协作。</p><h2 id="原文关键洞察" tabindex="-1"><a class="header-anchor" href="#原文关键洞察"><span>原文关键洞察</span></a></h2><p>LLM 在“输出自然语言”还是“输出 JSON”之间，经常是一开始就做高风险选择。<br> 一种可实验策略是：让模型尽量总是输出结构化对象，用 <code>intent</code> 区分不同动作。</p><h2 id="推荐的人机交互工具结构" tabindex="-1"><a class="header-anchor" href="#推荐的人机交互工具结构"><span>推荐的人机交互工具结构</span></a></h2><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;intent&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;request_human_input&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;question&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;是否允许发布 v1.2.3 到生产？&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;context&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;此次发布影响在线用户&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;options&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;urgency&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;high&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;format&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;yes_no&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>系统可把同一对象渲染到 Slack、邮件、短信。</p><h2 id="为什么这么做" tabindex="-1"><a class="header-anchor" href="#为什么这么做"><span>为什么这么做</span></a></h2><ul><li>联系人工过程可审计</li><li>便于多渠道统一处理</li><li>易与 pause/resume 流程衔接</li><li>可扩展到 Agent-&gt;Agent 请求</li></ul><h2 id="真实落地流程" tabindex="-1"><a class="header-anchor" href="#真实落地流程"><span>真实落地流程</span></a></h2><ol><li>模型输出 <code>request_human_input</code></li><li>系统落 <code>human_input_requested</code> 事件</li><li>发送消息并暂停线程</li><li>人工回复通过 webhook 回来</li><li>落 <code>human_response</code> 事件并恢复</li></ol><h2 id="常见误区" tabindex="-1"><a class="header-anchor" href="#常见误区"><span>常见误区</span></a></h2><ul><li>问题不具体，用户不知道怎么答。</li><li>没有 <code>urgency</code> 和 <code>deadline</code>，响应不可控。</li><li>人工回复未进入线程，后续丢上下文。</li></ul><h2 id="我的思考" tabindex="-1"><a class="header-anchor" href="#我的思考"><span>我的思考</span></a></h2><p>把人类当“特殊工具节点”是非常实用的抽象。<br> 它让 AI 工作流从“聊天机器人”升级为“多人协作系统”。</p><h2 id="小结" tabindex="-1"><a class="header-anchor" href="#小结"><span>小结</span></a></h2><ul><li>人工介入应协议化、事件化。</li><li>联系人类要和工具调用统一建模。</li><li>人机协同能力决定 agent 实用上限。</li></ul>',23)],n={},l=(0,a(66262).A)(n,[["render",function(i,e){return(0,s.uX)(),(0,s.CE)("div",null,t)}]]),h=JSON.parse('{"path":"/%E5%A5%B6%E5%A5%B6%E5%85%AB%E8%82%A1/12%E5%9B%A0%E7%B4%A0%E6%99%BA%E8%83%BD%E4%BD%93/07-%E7%94%A8%E5%B7%A5%E5%85%B7%E8%B0%83%E7%94%A8%E8%81%94%E7%B3%BB%E4%BA%BA%E5%B7%A5.html","title":"因素07：用工具调用联系人工","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2026-02-13T00:00:00.000Z","category":["后端"],"tag":["12因素智能体","大模型","Factor-07"],"description":"因素07：用工具调用联系人工 来源：12-Factor Agents / Factor 7（Contact humans with tool calls） 一句话先懂 “请求人工介入”也要做成结构化工具调用，而不是模型随口说一句。 奶奶版理解 社区办事时，工作人员给你的不是“你看着办”，而是标准表单： 要你确认什么 什么时候回复 可选项有哪些 这就是结...","head":[["meta",{"property":"og:url","content":"https://xlb3055.github.io/newBlog/%E5%A5%B6%E5%A5%B6%E5%85%AB%E8%82%A1/12%E5%9B%A0%E7%B4%A0%E6%99%BA%E8%83%BD%E4%BD%93/07-%E7%94%A8%E5%B7%A5%E5%85%B7%E8%B0%83%E7%94%A8%E8%81%94%E7%B3%BB%E4%BA%BA%E5%B7%A5.html"}],["meta",{"property":"og:site_name","content":"Bin的技术博客"}],["meta",{"property":"og:title","content":"因素07：用工具调用联系人工"}],["meta",{"property":"og:description","content":"因素07：用工具调用联系人工 来源：12-Factor Agents / Factor 7（Contact humans with tool calls） 一句话先懂 “请求人工介入”也要做成结构化工具调用，而不是模型随口说一句。 奶奶版理解 社区办事时，工作人员给你的不是“你看着办”，而是标准表单： 要你确认什么 什么时候回复 可选项有哪些 这就是结..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-02-13T07:34:00.000Z"}],["meta",{"property":"article:author","content":"Bin"}],["meta",{"property":"article:tag","content":"12因素智能体"}],["meta",{"property":"article:tag","content":"大模型"}],["meta",{"property":"article:tag","content":"Factor-07"}],["meta",{"property":"article:published_time","content":"2026-02-13T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-02-13T07:34:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"因素07：用工具调用联系人工\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2026-02-13T00:00:00.000Z\\",\\"dateModified\\":\\"2026-02-13T07:34:00.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Bin\\",\\"url\\":\\"/avator_img.jpg\\"}]}"]]},"headers":[{"level":2,"title":"一句话先懂","slug":"一句话先懂","link":"#一句话先懂","children":[]},{"level":2,"title":"奶奶版理解","slug":"奶奶版理解","link":"#奶奶版理解","children":[]},{"level":2,"title":"原文关键洞察","slug":"原文关键洞察","link":"#原文关键洞察","children":[]},{"level":2,"title":"推荐的人机交互工具结构","slug":"推荐的人机交互工具结构","link":"#推荐的人机交互工具结构","children":[]},{"level":2,"title":"为什么这么做","slug":"为什么这么做","link":"#为什么这么做","children":[]},{"level":2,"title":"真实落地流程","slug":"真实落地流程","link":"#真实落地流程","children":[]},{"level":2,"title":"常见误区","slug":"常见误区","link":"#常见误区","children":[]},{"level":2,"title":"我的思考","slug":"我的思考","link":"#我的思考","children":[]},{"level":2,"title":"小结","slug":"小结","link":"#小结","children":[]}],"git":{"createdTime":1770968040000,"updatedTime":1770968040000,"contributors":[{"name":"bin","email":"13598151+binxlb@user.noreply.gitee.com","commits":1}]},"readingTime":{"minutes":1.56,"words":467},"filePathRelative":"奶奶八股/12因素智能体/07-用工具调用联系人工.md","localizedDate":"2026年2月13日","excerpt":"\\n<blockquote>\\n<p>来源：12-Factor Agents / Factor 7（Contact humans with tool calls）</p>\\n</blockquote>\\n<h2>一句话先懂</h2>\\n<p>“请求人工介入”也要做成结构化工具调用，而不是模型随口说一句。</p>\\n<h2>奶奶版理解</h2>\\n<p>社区办事时，工作人员给你的不是“你看着办”，而是标准表单：</p>\\n<ul>\\n<li>要你确认什么</li>\\n<li>什么时候回复</li>\\n<li>可选项有哪些</li>\\n</ul>\\n<p>这就是结构化协作。</p>\\n<h2>原文关键洞察</h2>\\n<p>LLM 在“输出自然语言”还是“输出 JSON”之间，经常是一开始就做高风险选择。<br>\\n一种可实验策略是：让模型尽量总是输出结构化对象，用 <code>intent</code> 区分不同动作。</p>","autoDesc":true}')}}]);