"use strict";(self.webpackChunkblog_road=self.webpackChunkblog_road||[]).push([[3417],{66262:(i,e)=>{e.A=(i,e)=>{const t=i.__vccOpts||i;for(const[i,a]of e)t[i]=a;return t}},2008:(i,e,t)=>{t.r(e),t.d(e,{comp:()=>n,data:()=>r});var a=t(20641);const s=[(0,a.Fv)('<h1 id="因素04-工具本质是结构化输出" tabindex="-1"><a class="header-anchor" href="#因素04-工具本质是结构化输出"><span>因素04：工具本质是结构化输出</span></a></h1><blockquote><p>来源：12-Factor Agents / Factor 4（Tools are just structured outputs）</p></blockquote><h2 id="一句话先懂" tabindex="-1"><a class="header-anchor" href="#一句话先懂"><span>一句话先懂</span></a></h2><p>工具调用不是魔法，本质是模型输出结构化数据，然后由确定性代码执行。</p><h2 id="奶奶版理解" tabindex="-1"><a class="header-anchor" href="#奶奶版理解"><span>奶奶版理解</span></a></h2><p>你在餐厅点菜时，给服务员的是“菜名+份数”的单子，不是自己进后厨炒。<br> “点菜单”是结构化输出，“后厨流程”是确定性执行。</p><h2 id="原文核心观点" tabindex="-1"><a class="header-anchor" href="#原文核心观点"><span>原文核心观点</span></a></h2><ul><li>模型做“选择下一步动作”的决策。</li><li>你的系统做“如何执行动作”的编排。</li><li>一次工具调用可映射成一段复杂但可控的业务流程。</li></ul><h2 id="实战示例" tabindex="-1"><a class="header-anchor" href="#实战示例"><span>实战示例</span></a></h2><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;intent&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;create_issue&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;title&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;生产告警持续&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;priority&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;P1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;team&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;platform&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行层可以做：</p><ol><li>参数校验</li><li>自动补默认值</li><li>匹配负责人</li><li>创建工单</li><li>发通知</li><li>回写结果事件</li></ol><h2 id="落地要点" tabindex="-1"><a class="header-anchor" href="#落地要点"><span>落地要点</span></a></h2><ul><li>给每个 intent 定义稳定 schema。</li><li>执行层不要直接把模型字段透传到外部系统。</li><li>工具结果要回灌到上下文，让模型形成闭环。</li></ul><h2 id="常见误区" tabindex="-1"><a class="header-anchor" href="#常见误区"><span>常见误区</span></a></h2><ul><li>把工具调用理解成“自动调用某个函数”，缺少中间风控层。</li><li>schema 经常变化，导致线上不稳定。</li><li>只有请求没有结果事件，下一步无法推理。</li></ul><h2 id="我的思考" tabindex="-1"><a class="header-anchor" href="#我的思考"><span>我的思考</span></a></h2><p>这一条把“AI 系统”拉回“软件系统”。</p><p>很多团队失败是因为让模型从“提议者”变成了“直接执行者”。<br> 正确姿势应该是：</p><ul><li>模型声明意图</li><li>代码做安全执行</li><li>结果再回到模型</li></ul><p>这才是可维护闭环。</p><h2 id="小结" tabindex="-1"><a class="header-anchor" href="#小结"><span>小结</span></a></h2><ul><li>工具调用 = 结构化协议。</li><li>协议稳定，系统才稳定。</li><li>模型决策和代码执行必须分层。</li></ul>',23)],l={},n=(0,t(66262).A)(l,[["render",function(i,e){return(0,a.uX)(),(0,a.CE)("div",null,s)}]]),r=JSON.parse('{"path":"/%E5%A5%B6%E5%A5%B6%E5%85%AB%E8%82%A1/12%E5%9B%A0%E7%B4%A0%E6%99%BA%E8%83%BD%E4%BD%93/04-%E5%B7%A5%E5%85%B7%E6%9C%AC%E8%B4%A8%E6%98%AF%E7%BB%93%E6%9E%84%E5%8C%96%E8%BE%93%E5%87%BA.html","title":"因素04：工具本质是结构化输出","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2026-02-13T00:00:00.000Z","category":["后端"],"tag":["12因素智能体","大模型","Factor-04"],"description":"因素04：工具本质是结构化输出 来源：12-Factor Agents / Factor 4（Tools are just structured outputs） 一句话先懂 工具调用不是魔法，本质是模型输出结构化数据，然后由确定性代码执行。 奶奶版理解 你在餐厅点菜时，给服务员的是“菜名+份数”的单子，不是自己进后厨炒。 “点菜单”是结构化输出，“后...","head":[["meta",{"property":"og:url","content":"https://xlb3055.github.io/newBlog/%E5%A5%B6%E5%A5%B6%E5%85%AB%E8%82%A1/12%E5%9B%A0%E7%B4%A0%E6%99%BA%E8%83%BD%E4%BD%93/04-%E5%B7%A5%E5%85%B7%E6%9C%AC%E8%B4%A8%E6%98%AF%E7%BB%93%E6%9E%84%E5%8C%96%E8%BE%93%E5%87%BA.html"}],["meta",{"property":"og:site_name","content":"Bin的技术博客"}],["meta",{"property":"og:title","content":"因素04：工具本质是结构化输出"}],["meta",{"property":"og:description","content":"因素04：工具本质是结构化输出 来源：12-Factor Agents / Factor 4（Tools are just structured outputs） 一句话先懂 工具调用不是魔法，本质是模型输出结构化数据，然后由确定性代码执行。 奶奶版理解 你在餐厅点菜时，给服务员的是“菜名+份数”的单子，不是自己进后厨炒。 “点菜单”是结构化输出，“后..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-02-13T07:34:00.000Z"}],["meta",{"property":"article:author","content":"Bin"}],["meta",{"property":"article:tag","content":"12因素智能体"}],["meta",{"property":"article:tag","content":"大模型"}],["meta",{"property":"article:tag","content":"Factor-04"}],["meta",{"property":"article:published_time","content":"2026-02-13T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-02-13T07:34:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"因素04：工具本质是结构化输出\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2026-02-13T00:00:00.000Z\\",\\"dateModified\\":\\"2026-02-13T07:34:00.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Bin\\",\\"url\\":\\"/avator_img.jpg\\"}]}"]]},"headers":[{"level":2,"title":"一句话先懂","slug":"一句话先懂","link":"#一句话先懂","children":[]},{"level":2,"title":"奶奶版理解","slug":"奶奶版理解","link":"#奶奶版理解","children":[]},{"level":2,"title":"原文核心观点","slug":"原文核心观点","link":"#原文核心观点","children":[]},{"level":2,"title":"实战示例","slug":"实战示例","link":"#实战示例","children":[]},{"level":2,"title":"落地要点","slug":"落地要点","link":"#落地要点","children":[]},{"level":2,"title":"常见误区","slug":"常见误区","link":"#常见误区","children":[]},{"level":2,"title":"我的思考","slug":"我的思考","link":"#我的思考","children":[]},{"level":2,"title":"小结","slug":"小结","link":"#小结","children":[]}],"git":{"createdTime":1770968040000,"updatedTime":1770968040000,"contributors":[{"name":"bin","email":"13598151+binxlb@user.noreply.gitee.com","commits":1}]},"readingTime":{"minutes":1.55,"words":464},"filePathRelative":"奶奶八股/12因素智能体/04-工具本质是结构化输出.md","localizedDate":"2026年2月13日","excerpt":"\\n<blockquote>\\n<p>来源：12-Factor Agents / Factor 4（Tools are just structured outputs）</p>\\n</blockquote>\\n<h2>一句话先懂</h2>\\n<p>工具调用不是魔法，本质是模型输出结构化数据，然后由确定性代码执行。</p>\\n<h2>奶奶版理解</h2>\\n<p>你在餐厅点菜时，给服务员的是“菜名+份数”的单子，不是自己进后厨炒。<br>\\n“点菜单”是结构化输出，“后厨流程”是确定性执行。</p>\\n<h2>原文核心观点</h2>\\n<ul>\\n<li>模型做“选择下一步动作”的决策。</li>\\n<li>你的系统做“如何执行动作”的编排。</li>\\n<li>一次工具调用可映射成一段复杂但可控的业务流程。</li>\\n</ul>","autoDesc":true}')}}]);