"use strict";(self.webpackChunkblog_road=self.webpackChunkblog_road||[]).push([[4902],{66262:(i,s)=>{s.A=(i,s)=>{const a=i.__vccOpts||i;for(const[i,t]of s)a[i]=t;return a}},37045:(i,s,a)=>{a.r(s),a.d(s,{comp:()=>n,data:()=>p});var t=a(20641);const e=[(0,t.Fv)('<h1 id="因素02-掌控提示词" tabindex="-1"><a class="header-anchor" href="#因素02-掌控提示词"><span>因素02：掌控提示词</span></a></h1><blockquote><p>来源：12-Factor Agents / Factor 2（Own your prompts）</p></blockquote><h2 id="一句话先懂" tabindex="-1"><a class="header-anchor" href="#一句话先懂"><span>一句话先懂</span></a></h2><p>提示词是你的核心业务逻辑之一，不要完全交给黑盒框架。</p><h2 id="奶奶版理解" tabindex="-1"><a class="header-anchor" href="#奶奶版理解"><span>奶奶版理解</span></a></h2><p>你请了一个能力很强的帮手，但你只说“你看着办”。</p><ul><li>他有时做得很好</li><li>也可能把关键事情做错</li></ul><p>如果你给的是明确说明书（步骤、边界、禁区、异常处理），稳定性就会高很多。</p><h2 id="原文重点-不是反框架-而是反黑盒" tabindex="-1"><a class="header-anchor" href="#原文重点-不是反框架-而是反黑盒"><span>原文重点（不是反框架，而是反黑盒）</span></a></h2><p>Factor 2 的意思不是“框架不能用”，而是：</p><ul><li>关键 prompt 必须你能看到</li><li>关键 prompt 必须你能修改</li><li>关键 prompt 必须你能测试</li></ul><p>否则线上质量出问题时，你甚至不知道模型到底收到了哪些指令。</p><h2 id="推荐的提示词工程方法" tabindex="-1"><a class="header-anchor" href="#推荐的提示词工程方法"><span>推荐的提示词工程方法</span></a></h2><ol><li><strong>模板分层</strong>：System 规则、任务规则、动态上下文分开。</li><li><strong>版本化管理</strong>：prompt 放 Git，和代码一起审查。</li><li><strong>评测回归</strong>：每次修改都跑固定样例集。</li><li><strong>指标化验证</strong>：正确率、误触发率、拒绝率、人工接管率。</li></ol><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> buildPrompt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">input</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">policy</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">context</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }) {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">你是发布助手，必须遵守：</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">input</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">policy</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">仅输出 JSON：{ intent, reason, risk }</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">上下文：</span></span>\n<span class="line"><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">input</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">context</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="真实业务例子-发布助手" tabindex="-1"><a class="header-anchor" href="#真实业务例子-发布助手"><span>真实业务例子：发布助手</span></a></h2><p>如果你写成黑盒参数：</p><ul><li>role=devops</li><li>goal=safe deploy</li></ul><p>模型在“是否先查 tag、是否先审批”上可能漂移。</p><p>如果你直接写明：</p><ul><li>先检查环境</li><li>先列可用版本</li><li>生产必须审批</li><li>出错最多重试 2 次</li></ul><p>系统稳定性会明显上升。</p><h2 id="常见误区" tabindex="-1"><a class="header-anchor" href="#常见误区"><span>常见误区</span></a></h2><ul><li>提示词写在第三方后台，不进代码仓库。</li><li>只看“感觉更聪明”，不看量化指标。</li><li>一个超长 prompt 管所有场景，不做拆分。</li></ul><h2 id="我的思考" tabindex="-1"><a class="header-anchor" href="#我的思考"><span>我的思考</span></a></h2><p>我很认可这条，因为很多 AI 项目失败不在模型能力，而在“不可控”。</p><p>提示词一旦进入生产，就不再是文案，而是：</p><ul><li>行为策略</li><li>风险边界</li><li>产品规则</li></ul><p>既然是规则，就必须走工程化。</p><h2 id="小结" tabindex="-1"><a class="header-anchor" href="#小结"><span>小结</span></a></h2><ul><li>提示词要可见、可改、可测。</li><li>prompt 版本管理和代码版本管理同等重要。</li><li>你不掌控提示词，就无法掌控线上质量。</li></ul>',31)],l={},n=(0,a(66262).A)(l,[["render",function(i,s){return(0,t.uX)(),(0,t.CE)("div",null,e)}]]),p=JSON.parse('{"path":"/%E5%A5%B6%E5%A5%B6%E5%85%AB%E8%82%A1/12%E5%9B%A0%E7%B4%A0%E6%99%BA%E8%83%BD%E4%BD%93/02-%E6%8E%8C%E6%8E%A7%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"因素02：掌控提示词","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2026-02-13T00:00:00.000Z","category":["后端"],"tag":["12因素智能体","大模型","Factor-02"],"description":"因素02：掌控提示词 来源：12-Factor Agents / Factor 2（Own your prompts） 一句话先懂 提示词是你的核心业务逻辑之一，不要完全交给黑盒框架。 奶奶版理解 你请了一个能力很强的帮手，但你只说“你看着办”。 他有时做得很好 也可能把关键事情做错 如果你给的是明确说明书（步骤、边界、禁区、异常处理），稳定性就会高很...","head":[["meta",{"property":"og:url","content":"https://xlb3055.github.io/newBlog/%E5%A5%B6%E5%A5%B6%E5%85%AB%E8%82%A1/12%E5%9B%A0%E7%B4%A0%E6%99%BA%E8%83%BD%E4%BD%93/02-%E6%8E%8C%E6%8E%A7%E6%8F%90%E7%A4%BA%E8%AF%8D.html"}],["meta",{"property":"og:site_name","content":"Bin的技术博客"}],["meta",{"property":"og:title","content":"因素02：掌控提示词"}],["meta",{"property":"og:description","content":"因素02：掌控提示词 来源：12-Factor Agents / Factor 2（Own your prompts） 一句话先懂 提示词是你的核心业务逻辑之一，不要完全交给黑盒框架。 奶奶版理解 你请了一个能力很强的帮手，但你只说“你看着办”。 他有时做得很好 也可能把关键事情做错 如果你给的是明确说明书（步骤、边界、禁区、异常处理），稳定性就会高很..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-02-13T07:34:00.000Z"}],["meta",{"property":"article:author","content":"Bin"}],["meta",{"property":"article:tag","content":"12因素智能体"}],["meta",{"property":"article:tag","content":"大模型"}],["meta",{"property":"article:tag","content":"Factor-02"}],["meta",{"property":"article:published_time","content":"2026-02-13T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-02-13T07:34:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"因素02：掌控提示词\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2026-02-13T00:00:00.000Z\\",\\"dateModified\\":\\"2026-02-13T07:34:00.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Bin\\",\\"url\\":\\"/avator_img.jpg\\"}]}"]]},"headers":[{"level":2,"title":"一句话先懂","slug":"一句话先懂","link":"#一句话先懂","children":[]},{"level":2,"title":"奶奶版理解","slug":"奶奶版理解","link":"#奶奶版理解","children":[]},{"level":2,"title":"原文重点（不是反框架，而是反黑盒）","slug":"原文重点-不是反框架-而是反黑盒","link":"#原文重点-不是反框架-而是反黑盒","children":[]},{"level":2,"title":"推荐的提示词工程方法","slug":"推荐的提示词工程方法","link":"#推荐的提示词工程方法","children":[]},{"level":2,"title":"真实业务例子：发布助手","slug":"真实业务例子-发布助手","link":"#真实业务例子-发布助手","children":[]},{"level":2,"title":"常见误区","slug":"常见误区","link":"#常见误区","children":[]},{"level":2,"title":"我的思考","slug":"我的思考","link":"#我的思考","children":[]},{"level":2,"title":"小结","slug":"小结","link":"#小结","children":[]}],"git":{"createdTime":1770968040000,"updatedTime":1770968040000,"contributors":[{"name":"bin","email":"13598151+binxlb@user.noreply.gitee.com","commits":1}]},"readingTime":{"minutes":1.95,"words":584},"filePathRelative":"奶奶八股/12因素智能体/02-掌控提示词.md","localizedDate":"2026年2月13日","excerpt":"\\n<blockquote>\\n<p>来源：12-Factor Agents / Factor 2（Own your prompts）</p>\\n</blockquote>\\n<h2>一句话先懂</h2>\\n<p>提示词是你的核心业务逻辑之一，不要完全交给黑盒框架。</p>\\n<h2>奶奶版理解</h2>\\n<p>你请了一个能力很强的帮手，但你只说“你看着办”。</p>\\n<ul>\\n<li>他有时做得很好</li>\\n<li>也可能把关键事情做错</li>\\n</ul>\\n<p>如果你给的是明确说明书（步骤、边界、禁区、异常处理），稳定性就会高很多。</p>\\n<h2>原文重点（不是反框架，而是反黑盒）</h2>\\n<p>Factor 2 的意思不是“框架不能用”，而是：</p>","autoDesc":true}')}}]);