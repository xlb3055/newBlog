"use strict";(self.webpackChunkblog_road=self.webpackChunkblog_road||[]).push([[3364],{6262:(i,s)=>{s.A=(i,s)=>{const t=i.__vccOpts||i;for(const[i,n]of s)t[i]=n;return t}},9136:(i,s,t)=>{t.r(s),t.d(s,{comp:()=>l,data:()=>r});var n=t(641);const e=[(0,n.Fv)('<h1 id="字符集详解" tabindex="-1"><a class="header-anchor" href="#字符集详解"><span>字符集详解</span></a></h1><hr><h3 id="_1-什么是字符集" tabindex="-1"><a class="header-anchor" href="#_1-什么是字符集"><span><strong>1. 什么是字符集？</strong></span></a></h3><p>字符集是一个 <strong>字符集合</strong>，它定义了可以使用的字符范围。<br> 字符集包含字母、数字、符号和控制字符等，用于支持不同语言和地区的文字表示。</p><ul><li><strong>简单定义</strong>：字符集定义了哪些字符可以被存储和处理。</li><li><strong>面试点</strong>：不同字符集之间的兼容性和支持范围的差异。</li></ul><hr><h3 id="_2-什么是字符编码" tabindex="-1"><a class="header-anchor" href="#_2-什么是字符编码"><span><strong>2. 什么是字符编码？</strong></span></a></h3><p>字符编码是将 <strong>字符集中的字符</strong> 转换为计算机可以理解的二进制形式的规则。</p><ul><li><p><strong>字符集 vs 字符编码</strong>：</p><ul><li>字符集定义了有哪些字符。</li><li>字符编码定义了如何表示这些字符。</li></ul></li><li><p><strong>面试点</strong>：</p><ul><li>同一个字符集可以有不同的编码方式。</li><li>如 Unicode 字符集可以用 UTF-8、UTF-16 等方式编码。</li></ul></li></ul><hr><h3 id="_3-常见的字符集" tabindex="-1"><a class="header-anchor" href="#_3-常见的字符集"><span><strong>3. 常见的字符集</strong></span></a></h3><p>以下是一些常见的字符集及其特点：</p><table><thead><tr><th>字符集</th><th>描述</th><th>特点</th></tr></thead><tbody><tr><td><strong>ASCII</strong></td><td>美国信息交换标准代码</td><td>7 位编码，128 个字符，主要用于英语。</td></tr><tr><td><strong>GB2312</strong></td><td>中国国家字符集</td><td>仅支持简体中文，6763 个汉字，682 个符号。</td></tr><tr><td><strong>GBK</strong></td><td>GB2312 的扩展</td><td>兼容 GB2312，支持约 2 万个汉字和符号。</td></tr><tr><td><strong>GB18030</strong></td><td>GBK 的进一步扩展</td><td>国家标准，支持少数民族文字，约 7 万个字符，向下兼容 GBK 和 GB2312。</td></tr><tr><td><strong>BIG5</strong></td><td>繁体中文字符集</td><td>主要用于台湾和香港，约 1.3 万个汉字。</td></tr><tr><td><strong>Unicode</strong></td><td>全球字符集，支持多语言文字</td><td>包含全球大多数语言字符，独立于语言，解决了传统字符集的局限性。</td></tr><tr><td><strong>UTF-8</strong></td><td>Unicode 编码的一种</td><td>变长编码，使用 1-4 个字节表示字符，兼容 ASCII，广泛用于互联网。</td></tr></tbody></table><ul><li><strong>面试点</strong>：UTF-8 和 GBK 的区别： <ul><li>UTF-8 是 Unicode 编码，全球通用。</li><li>GBK 是中国特定字符集，主要用于本地化需求。</li></ul></li></ul><hr><h3 id="_4-mysql-中的字符集" tabindex="-1"><a class="header-anchor" href="#_4-mysql-中的字符集"><span><strong>4. MySQL 中的字符集</strong></span></a></h3><h4 id="_4-1-查看支持的字符集" tabindex="-1"><a class="header-anchor" href="#_4-1-查看支持的字符集"><span><strong>4.1 查看支持的字符集</strong></span></a></h4><ul><li>可以通过以下命令查看 MySQL 支持的字符集：<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">SHOW CHARSET;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>输出示例：<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>+---------+---------------+-------------------+--------+</span></span>\n<span class="line"><span>| Charset | Description   | Default collation| Maxlen |</span></span>\n<span class="line"><span>+---------+---------------+-------------------+--------+</span></span>\n<span class="line"><span>| utf8    | UTF-8 Unicode | utf8_general_ci  |      3 |</span></span>\n<span class="line"><span>| utf8mb4 | UTF-8 Unicode | utf8mb4_general_ci |    4 |</span></span>\n<span class="line"><span>| latin1  | cp1252 West   | latin1_swedish_ci|      1 |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_4-2-mysql-默认字符集" tabindex="-1"><a class="header-anchor" href="#_4-2-mysql-默认字符集"><span><strong>4.2 MySQL 默认字符集</strong></span></a></h4><ul><li><strong>MySQL 5.7</strong> 默认字符集为 <code>latin1</code>。</li><li><strong>MySQL 8.0</strong> 默认字符集为 <code>utf8mb4</code>，全面支持 Unicode。</li></ul><h4 id="_4-3-字符集的层次级别" tabindex="-1"><a class="header-anchor" href="#_4-3-字符集的层次级别"><span><strong>4.3 字符集的层次级别</strong></span></a></h4><p>MySQL 的字符集支持多个层次的配置：</p><ol><li><strong>服务器级</strong>：设置全局默认字符集。</li><li><strong>数据库级</strong>：特定数据库的默认字符集。</li><li><strong>表级</strong>：特定表的字符集。</li><li><strong>列级</strong>：特定列的字符集。</li></ol><ul><li><strong>示例</strong>：配置表和列的字符集：<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CHARACTER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> utf8 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COLLATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> utf8_general_ci</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CHARACTER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> utf8mb4 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COLLATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> utf8mb4_general_ci;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_4-4-连接字符集" tabindex="-1"><a class="header-anchor" href="#_4-4-连接字符集"><span><strong>4.4 连接字符集</strong></span></a></h4><ul><li><p>客户端与服务器的交互数据也受字符集影响，可以通过以下变量设置：</p><ul><li><code>character_set_client</code>：客户端发送的字符集。</li><li><code>character_set_connection</code>：服务器处理的字符集。</li><li><code>character_set_results</code>：结果集字符集。</li></ul></li><li><p><strong>示例</strong>：设置 UTF-8 连接字符集：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> NAMES </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;utf8&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h3 id="_5-jdbc-对连接字符集的影响" tabindex="-1"><a class="header-anchor" href="#_5-jdbc-对连接字符集的影响"><span><strong>5. JDBC 对连接字符集的影响</strong></span></a></h3><p>使用 JDBC 连接 MySQL 时，字符集设置至关重要，尤其是避免中文乱码。<br> 在连接 URL 中指定字符集，例如：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> url </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;jdbc:mysql://localhost:3306/db_name?useUnicode=true&amp;characterEncoding=utf8&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>useUnicode=true</strong>：表示使用 Unicode。</li><li><strong>characterEncoding=utf8</strong>：指定字符集为 UTF-8。</li></ul><hr><h3 id="_6-utf-8-使用中的注意事项" tabindex="-1"><a class="header-anchor" href="#_6-utf-8-使用中的注意事项"><span><strong>6. UTF-8 使用中的注意事项</strong></span></a></h3><ol><li><p><strong>MySQL 中的 utf8 和 utf8mb4 的区别</strong>：</p><ul><li><strong>utf8</strong>：最多支持 3 字节，无法存储 Emoji 等 4 字节字符。</li><li><strong>utf8mb4</strong>：最多支持 4 字节，全面支持 Unicode。</li></ul></li><li><p><strong>建议</strong>：如果需要存储 Emoji 或特殊符号，推荐使用 <code>utf8mb4</code>。</p></li></ol><hr><h3 id="面试可能的深入问题" tabindex="-1"><a class="header-anchor" href="#面试可能的深入问题"><span><strong>面试可能的深入问题</strong></span></a></h3><ol><li><p><strong>什么是字符集的兼容性？</strong></p><ul><li>比如 UTF-8 兼容 ASCII，但与 GBK 不兼容。</li></ul></li><li><p><strong>为什么要选择 UTF-8？</strong></p><ul><li>全球化支持，兼容性好，变长编码节省空间。</li></ul></li><li><p><strong>MySQL 使用 utf8 的局限性？</strong></p><ul><li>无法存储 4 字节字符，建议升级到 utf8mb4。</li></ul></li><li><p><strong>如何处理字符集带来的性能影响？</strong></p><ul><li>utf8mb4 比 utf8 占用更多存储空间，索引长度可能受限。</li></ul></li></ol><hr>',38)],a={},l=(0,t(6262).A)(a,[["render",function(i,s){return(0,n.uX)(),(0,n.CE)("div",null,e)}]]),r=JSON.parse('{"path":"/Java%E5%85%AB%E8%82%A1/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E9%9B%86%E8%AF%A6%E8%A7%A3.html","title":"字符集详解","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2024-11-21T00:00:00.000Z","category":["后端"],"tag":["数据库"],"description":"字符集详解 1. 什么是字符集？ 字符集是一个 字符集合，它定义了可以使用的字符范围。 字符集包含字母、数字、符号和控制字符等，用于支持不同语言和地区的文字表示。 简单定义：字符集定义了哪些字符可以被存储和处理。 面试点：不同字符集之间的兼容性和支持范围的差异。 2. 什么是字符编码？ 字符编码是将 字符集中的字符 转换为计算机可以理解的二进制形式的规...","head":[["meta",{"property":"og:url","content":"https://xlb3055.github.io/newBlog/Java%E5%85%AB%E8%82%A1/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E9%9B%86%E8%AF%A6%E8%A7%A3.html"}],["meta",{"property":"og:site_name","content":"Bin的成长博客"}],["meta",{"property":"og:title","content":"字符集详解"}],["meta",{"property":"og:description","content":"字符集详解 1. 什么是字符集？ 字符集是一个 字符集合，它定义了可以使用的字符范围。 字符集包含字母、数字、符号和控制字符等，用于支持不同语言和地区的文字表示。 简单定义：字符集定义了哪些字符可以被存储和处理。 面试点：不同字符集之间的兼容性和支持范围的差异。 2. 什么是字符编码？ 字符编码是将 字符集中的字符 转换为计算机可以理解的二进制形式的规..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-06T06:24:41.000Z"}],["meta",{"property":"article:author","content":"Bin"}],["meta",{"property":"article:tag","content":"数据库"}],["meta",{"property":"article:published_time","content":"2024-11-21T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-06T06:24:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"字符集详解\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-11-21T00:00:00.000Z\\",\\"dateModified\\":\\"2025-06-06T06:24:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Bin\\",\\"url\\":\\"/avator_img.jpg\\"}]}"]]},"headers":[{"level":3,"title":"1. 什么是字符集？","slug":"_1-什么是字符集","link":"#_1-什么是字符集","children":[]},{"level":3,"title":"2. 什么是字符编码？","slug":"_2-什么是字符编码","link":"#_2-什么是字符编码","children":[]},{"level":3,"title":"3. 常见的字符集","slug":"_3-常见的字符集","link":"#_3-常见的字符集","children":[]},{"level":3,"title":"4. MySQL 中的字符集","slug":"_4-mysql-中的字符集","link":"#_4-mysql-中的字符集","children":[]},{"level":3,"title":"5. JDBC 对连接字符集的影响","slug":"_5-jdbc-对连接字符集的影响","link":"#_5-jdbc-对连接字符集的影响","children":[]},{"level":3,"title":"6. UTF-8 使用中的注意事项","slug":"_6-utf-8-使用中的注意事项","link":"#_6-utf-8-使用中的注意事项","children":[]},{"level":3,"title":"面试可能的深入问题","slug":"面试可能的深入问题","link":"#面试可能的深入问题","children":[]}],"git":{"createdTime":1732275083000,"updatedTime":1749191081000,"contributors":[{"name":"bin","email":"13598151+binxlb@user.noreply.gitee.com","commits":1}]},"readingTime":{"minutes":3.46,"words":1039},"filePathRelative":"Java八股/数据库/基础/字符集详解.md","localizedDate":"2024年11月21日","excerpt":"\\n<hr>\\n<h3><strong>1. 什么是字符集？</strong></h3>\\n<p>字符集是一个 <strong>字符集合</strong>，它定义了可以使用的字符范围。<br>\\n字符集包含字母、数字、符号和控制字符等，用于支持不同语言和地区的文字表示。</p>\\n<ul>\\n<li><strong>简单定义</strong>：字符集定义了哪些字符可以被存储和处理。</li>\\n<li><strong>面试点</strong>：不同字符集之间的兼容性和支持范围的差异。</li>\\n</ul>\\n<hr>\\n<h3><strong>2. 什么是字符编码？</strong></h3>\\n<p>字符编码是将 <strong>字符集中的字符</strong> 转换为计算机可以理解的二进制形式的规则。</p>","autoDesc":true}')}}]);